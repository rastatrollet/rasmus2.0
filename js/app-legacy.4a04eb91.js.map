{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4199","webpack:///./src/components/DigitalClock.vue?4290","webpack:///./src/components/TripsTable.vue?312d","webpack:///./src/components/TripsFilter.vue?840e","webpack:///./src/components/LocationInput.vue?c79b","webpack:///./src/components/TripsTable.vue?1c71","webpack:///./src/api/googleDrive.js","webpack:///./src/App.vue?cb9d","webpack:///./src/components/InformationPage.vue?67d4","webpack:///src/components/InformationPage.vue","webpack:///./src/components/InformationPage.vue?8f77","webpack:///./src/components/InformationPage.vue?1448","webpack:///./src/components/DigitalClock.vue?e438","webpack:///./src/util/debounce.js","webpack:///./src/util/isVisibleInDOM.js","webpack:///src/components/DigitalClock.vue","webpack:///./src/components/DigitalClock.vue?c208","webpack:///./src/components/DigitalClock.vue?e580","webpack:///./src/components/StationInfo.vue?8e72","webpack:///./src/api/trafikverket.js","webpack:///./src/api/vasttrafik.js","webpack:///./src/api/sl.js","webpack:///./src/api/index.js","webpack:///./src/components/JourneyDetails.vue?f2a0","webpack:///src/components/JourneyDetails.vue","webpack:///./src/components/JourneyDetails.vue?1711","webpack:///./src/components/JourneyDetails.vue?b654","webpack:///./src/components/LocationInput.vue?1d7f","webpack:///src/components/LocationInput.vue","webpack:///./src/components/LocationInput.vue?6165","webpack:///./src/components/LocationInput.vue?e1f5","webpack:///./src/util/speechSynthesis.js","webpack:///./src/components/TripsTable.vue?9971","webpack:///src/components/TripsTable.vue","webpack:///./src/components/TripsTable.vue?5506","webpack:///./src/components/TripsTable.vue?e4f3","webpack:///./src/components/TripsFilter.vue?d7fb","webpack:///./src/util/sortNumbersAndLetters.js","webpack:///./src/util/getFormData.js","webpack:///src/components/TripsFilter.vue","webpack:///./src/components/TripsFilter.vue?4b2c","webpack:///./src/components/TripsFilter.vue?bb8a","webpack:///src/components/StationInfo.vue","webpack:///./src/components/StationInfo.vue?c542","webpack:///./src/components/StationInfo.vue?f456","webpack:///./src/components/Tabs.vue?1c55","webpack:///src/components/Tabs.vue","webpack:///./src/components/Tabs.vue?3d38","webpack:///./src/components/Tabs.vue?d1f0","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/store/user.js","webpack:///./src/util/getDestinationVia.js","webpack:///./src/store/trips.js","webpack:///./src/store/stops.js","webpack:///./src/store/tabs.js","webpack:///./src/store/api.js","webpack:///./src/store/index.js","webpack:///./src/registerServiceWorker.js","webpack:///./src/components/FontAwesome.js","webpack:///./src/main.js","webpack:///./src/components/JourneyDetails.vue?cdad","webpack:///./src/components/InformationPage.vue?a20d","webpack:///./src/components/Tabs.vue?8b8c","webpack:///./src/components/InformationPage.vue?f47b","webpack:///./src/components/Tabs.vue?414e","webpack:///./src/components/StationInfo.vue?bc17","webpack:///./src/components/JourneyDetails.vue?8b74","webpack:///./src/components/StationInfo.vue?b025","webpack:///./src/components/TripsFilter.vue?60f7"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","app","jsonpScriptSrc","p","chunk-4c1e","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","clearTimeout","chunk","errorType","realSrc","error","undefined","setTimeout","all","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_DigitalClock_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","tripsTable","showingJourneyDetails","table","tableHead","trip","tripLine","cancelled","tripName","tripTime","tripNewTime","isLate","tripTrack","VT","TV","SL","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_0_0_node_modules_css_loader_index_js_ref_6_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_0_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TripsFilter_vue_vue_type_style_index_0_module_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_LocationInput_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_0_0_node_modules_css_loader_index_js_ref_6_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_0_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TripsTable_vue_vue_type_style_index_0_module_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","resolveGooglePromise","rejectGooglePromise","Appvue_type_template_id_16513ba2_render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticClass","tabs","on-click","changeTab","current-tab","currentTab","currentTabComponent","componentName","_b","props","staticRenderFns","InformationPagevue_type_template_id_5a788518_render","class","$style","informationPage","spinner","icon","spin","_e","gdocElementId","editLink","_v","InformationPagevue_type_template_id_5a788518_staticRenderFns","CLIENT_ID","API_KEY","DISCOVERY_DOCS","SCOPES","join","sweToVTLingo","Datum","Hållplats","Linje","Namn","Tid","Ny tid","Läge","Bakgrund","files","infoDoc","fileId","mimeType","manualDepartures","initialized","init","_callee","regeneratorRuntime","wrap","_context","prev","next","abrupt","addEventListener","gapi","load","initClient","body","stop","googleInitPromise","auth2","getAuthInstance","isSignedIn","signIn","client","apiKey","clientId","discoveryDocs","scope","catch","printInfoDoc","elementId","getFile","response","printFile","getManualDepartures","_ref","csv","rows","split","keys","replace","map","row","values","reduce","res","curr","idx","options","drive","export","content","match","doc","getElementById","innerHTML","googleDrive","InformationPagevue_type_script_lang_js_","isLoading","mounted","_this","components_InformationPagevue_type_script_lang_js_","injectStyles","context","InformationPagevue_type_style_index_0_module_true_lang_css_","locals","component","componentNormalizer","__file","InformationPage","DigitalClockvue_type_template_id_dbae24fa_render","_s","hours","minutes","seconds","DigitalClockvue_type_template_id_dbae24fa_staticRenderFns","debounce","fn","delay","timeoutId","_len","arguments","args","Array","_key","isVisibleInDOM","el","getComputedStyle","display","DigitalClockvue_type_script_lang_js_","intervalId","created","handleResize","updateDateTime","startInterval","beforeDestroy","stopInterval","removeEventListener","methods","$el","setInterval","clearInterval","now","Date","String","getHours","padStart","getMinutes","getSeconds","components_DigitalClockvue_type_script_lang_js_","DigitalClock_component","DigitalClock","StationInfovue_type_template_id_02df813f_render","stationInfo","form","disabled","initializing","label","dict","from-to-label","fromToLabel","situations","_l","msg","index","messages","StationInfovue_type_template_id_02df813f_staticRenderFns","auth","stationMap","trafikverket_api","TrainStation","lat","long","radius","concat","TrainMessage","station","TrainAnnouncement","tvApiRequest","objectType","fetch","method","headers","Content-Type","resp","jsonPromise","json","RESPONSE","RESULT","ok","logMiddleware","log","transformStation","assign","AdvertisedLocationName","LocationSignature","region","getClosestStops","_ref2","lng","authToken","expDate","trafikverket","stations","forEach","getClosestStop","pos","stops","getTrafficSituations","location","_ref3","ExternalDescription","getDeparturesFrom","deps","dep","objectSpread","ActivityId","direction","ToLocation","LocationName","via","ViaToLocation","ProductInformation","time","AdvertisedTimeAtLocation","substr","timestamp","getTime","track","TrackAtLocation","sname","findStops","travelPlanner","trafficSituations","gid","url","anropaVasttrafik","Accept","title","description","affectedLines","designation","filter","x","getTripSuggestion","from","dest","date","toISOString","toLocaleTimeString","tripUrl","asArray","TripList","Trip","Leg","text","requestUrl","encodeURIComponent","LocationList","StopLocation","transformTrips","trips","rtTime","rtDate","Boolean","getArrivalsTo","timeSpan","getTimeTable","ArrivalBoard","Arrival","vasttrafik_getDeparturesFrom","DepartureBoard","Departure","errorText","getLiveMap","south","west","north","east","getWGS84","coord","Math","round","_ref4","livemap","vehicles","getJourneyDetail","_ref5","JourneyDetail","getGeometry","_ref6","Geometry","userHeaders","accessTokenPromise","Authorization","getAccessToken","fetchMiddleware","vasttrafik_getClosestStops","_ref7","limit","retry","_ref8","self","firstMatch","findIndex","reason","access_token","expires_in","toLocaleString","arg","authTokenPromise","vasttrafik_init","vasttrafik","baseUrl","fetchOptions","lineNumberColors","7","10","11","12","13","14","17","18","19","21","22","25","26","27","28","29","40","41","42","43","44","45","48","getColorFromLineNo","lineNo","transformStop","HafasId","sl_getClosestStops","makeRequest","sl_findStops","term","sl_asArray","ResponseData","firstIndex","SiteId","Name","vehicules","BUS","METRO","SHIP","TRAIN","TRAM","vehicule","sl_getDeparturesFrom","siteId","toConsumableArray","Buses","Metros","Ships","Trains","Trams","fgColor","LineNumber","bgColor","Destination","ExpectedDateTime","TimeTabledDateTime","TransportMode","StopPointDesignation","JourneyDirection","sl_getTrafficSituations","Details","sl_fetchMiddleware","status","path","sl","apiDict","src_api","JourneyDetailsvue_type_template_id_14c53f10_render","_obj","journeyDetails","showJourneyDetails","header","heading","closeBtn","on","click","$event","preventDefault","setShowJourneyDetails","journeyMeta","loadingJourneyDetails","journey","mapLink","setCurrentTab","stopList","depTime","stopPassed","didPass","stopDotCell","stopDot","stopTime","rtDepTime","stopName","stopTrack","JourneyDetailsvue_type_template_id_14c53f10_staticRenderFns","computed","vuex_esm","selectedJourney","journeyDir","Direction","JourneyName","$","_this2","Stop","departed","depDate","components_JourneyDetailsvue_type_script_lang_js_","JourneyDetails_injectStyles","JourneyDetailsvue_type_style_index_0_module_true_lang_css_","JourneyDetails_component","JourneyDetails","LocationInputvue_type_template_id_5eb07a58_render","with-label","focus","showDropDown","keyup","_k","keyCode","hideDropDown","directives","rawName","expression","placeholder","domProps","input","composing","searchText","onInput","blur","possiblyHideDropDown","selectFirstSuggestion","handleKeyInput","aria-hidden","getNearbyStops","nearbyStopsMessage","onSelect","suggestion","LocationInputvue_type_template_id_5eb07a58_staticRenderFns","LocationInputvue_type_script_lang_js_","selectedLocation","debouncedFindStops","default","show","isLoadingNearbyStops","userLocation","user","nearbyStopsError","showUseMyLocation","nearbyStops","showNearbyStops","hasSuggestions","watch","newVal","updateLocation","ArrowUp","ArrowDown","btnElement","getSibling","parentElement","includes","focused","querySelector","activeElement","relatedTarget","contains","components_LocationInputvue_type_script_lang_js_","LocationInput_component","voices","selectedVoice","LocationInput","TripsTablevue_type_template_id_670895b7_render","apiName","metaLabel","trackLabel","tableBody","colspan","getJourneyDetails","style","backgroundColor","color","_obj$1","tripDest","origin","tripVia","TripsTablevue_type_template_id_670895b7_staticRenderFns","isSupported","loadVoices","speechSynthesis","getVoices","find","speechSynthesis_speak","SpeechSynthesisUtterance","volume","rate","pitch","voice","speak","onvoiceschanged","TripsTablevue_type_script_lang_js_","state","api","_isLoading","_location","doSpeak","_trips","_trips$","inMinutes","ceil","components_TripsTablevue_type_script_lang_js_","TripsTable_injectStyles","TripsTablevue_type_style_index_0_module_true_lang_css_","TripsTable_component","TripsTable","TripsFiltervue_type_template_id_71d498f4_render","tripsFilter","change","updateFilter","selected","checked","isLive","updateOption","voiceCheckbox","refreshBtn","getTrips","TripsFiltervue_type_template_id_71d498f4_staticRenderFns","sortNumbersAndLetters","a","b","ac","Number","charCodeAt","bc","getFormData","node","HTMLElement","nodeName","selectedOptions","TripsFiltervue_type_script_lang_js_","radio","timeSpans","origDest","arriveDepartLabel","arrEaves","destinations","Set","tracks","sort","setFilter","option","setOptions","components_TripsFiltervue_type_script_lang_js_","TripsFilter_injectStyles","TripsFiltervue_type_style_index_0_module_true_lang_css_","TripsFilter_component","TripsFilter","_dict","arrival","departure","StationInfovue_type_script_lang_js_","components","arrivals","manualTrips","_initializing","oldVal","lastTimeoutId","loadManualDepartures","components_StationInfovue_type_script_lang_js_","StationInfo_injectStyles","StationInfovue_type_style_index_0_module_true_lang_css_","StationInfo_component","StationInfo","Tabsvue_type_template_id_1178a40e_render","tab","tabSmall","small","tabActive","tabDisabled","link","onClick","onlyMobile","onlyDesktop","Tabsvue_type_template_id_1178a40e_staticRenderFns","Tabsvue_type_script_lang_js_","Function","components_Tabsvue_type_script_lang_js_","Tabs_injectStyles","Tabsvue_type_style_index_0_module_true_lang_css_","Tabs_component","Tabs","baseTab","Appvue_type_script_lang_js_","MapComponent","toggleApi","comp","setArrivals","src_Appvue_type_script_lang_js_","App_component","App","user_state","navigator","consented","getters","actions","_getNearbyStops","asyncToGenerator","mark","commit","dispatch","rootState","rootGetters","_x","getUserLocation","geolocation","getCurrentPosition","coords","mutations","setLoading","loading","setConsented","setLocation","latitude","longitude","setNearbyStops","setNearbyStopsError","namespaced","viaRegExp","getDestinationVia","test","_departure$direction$","_departure$direction$2","slicedToArray","lastQuery","initialFilter","initialSituations","initialOptions","filterKeys","optionKeys","trips_state","trips_getters","filteredTrips","_situations$affectedL","isAffected","trips_actions","getTripsMethod","trips_mutations","reset","every","setTrips","setSituations","store_trips","stops_state","stops_getters","stops_actions","query","stops_mutations","setStops","store_stops","tabs_state","tabs_mutations","store_tabs","locationAPIs","defaultApi","initializedAPIs","api_state","api_getters","api_mutations","setApi","setInitializing","api_actions","initApi","info","currentIndex","indexOf","nextIndex","isInitialized","root","store_api","vue_runtime_esm","use","vuexLocal","umd_default","storage","localStorage","reducer","Store","strict","selectJourney","setLoadingJourneyDetails","JourneyDetailRef","ref","plugins","plugin","register_service_worker","register","ready","cached","updated","offline","index_es","add","free_solid_svg_icons_index_es","vue_fontawesome","config","productionTip","store","render","h","$mount","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_0_0_node_modules_css_loader_index_js_ref_6_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_0_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_JourneyDetails_vue_vue_type_style_index_0_module_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_0_0_node_modules_css_loader_index_js_ref_6_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_0_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Tabs_vue_vue_type_style_index_0_module_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_0_0_node_modules_css_loader_index_js_ref_6_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_0_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_InformationPage_vue_vue_type_style_index_0_module_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","tabApi","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_0_0_node_modules_css_loader_index_js_ref_6_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_0_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StationInfo_vue_vue_type_style_index_0_module_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"aACA,SAAAA,EAAAC,GAQA,IAPA,IAMAC,EAAAC,EANAC,EAAAH,EAAA,GACAI,EAAAJ,EAAA,GACAK,EAAAL,EAAA,GAIAM,EAAA,EAAAC,KACQD,EAAAH,EAAAK,OAAoBF,IAC5BJ,EAAAC,EAAAG,GACAG,EAAAP,IACAK,EAAAG,KAAAD,EAAAP,GAAA,IAEAO,EAAAP,GAAA,EAEA,IAAAD,KAAAG,EACAO,OAAAC,UAAAC,eAAAC,KAAAV,EAAAH,KACAc,EAAAd,GAAAG,EAAAH,IAGAe,KAAAhB,GAEA,MAAAO,EAAAC,OACAD,EAAAU,OAAAV,GAOA,OAHAW,EAAAR,KAAAS,MAAAD,EAAAb,OAGAe,IAEA,SAAAA,IAEA,IADA,IAAAC,EACAf,EAAA,EAAiBA,EAAAY,EAAAV,OAA4BF,IAAA,CAG7C,IAFA,IAAAgB,EAAAJ,EAAAZ,GACAiB,GAAA,EACAC,EAAA,EAAkBA,EAAAF,EAAAd,OAA2BgB,IAAA,CAC7C,IAAAC,EAAAH,EAAAE,GACA,IAAAf,EAAAgB,KAAAF,GAAA,GAEAA,IACAL,EAAAQ,OAAApB,IAAA,GACAe,EAAAM,IAAAC,EAAAN,EAAA,KAGA,OAAAD,EAIA,IAAAQ,KAGAC,GACAC,IAAA,GAMAtB,GACAsB,IAAA,GAGAb,KAGA,SAAAc,EAAA9B,GACA,OAAAyB,EAAAM,EAAA,UAA6C/B,OAAA,YAAoCgC,aAAA,YAAwBhC,GAAA,MAIzG,SAAAyB,EAAA1B,GAGA,GAAA4B,EAAA5B,GACA,OAAA4B,EAAA5B,GAAAkC,QAGA,IAAAC,EAAAP,EAAA5B,IACAK,EAAAL,EACAoC,GAAA,EACAF,YAUA,OANApB,EAAAd,GAAAa,KAAAsB,EAAAD,QAAAC,IAAAD,QAAAR,GAGAS,EAAAC,GAAA,EAGAD,EAAAD,QAKAR,EAAAW,EAAA,SAAApC,GACA,IAAAqC,KAIAC,GAAoBN,aAAA,GACpBJ,EAAA5B,GAAAqC,EAAA7B,KAAAoB,EAAA5B,IACA,IAAA4B,EAAA5B,IAAAsC,EAAAtC,IACAqC,EAAA7B,KAAAoB,EAAA5B,GAAA,IAAAuC,QAAA,SAAAC,EAAAC,GAIA,IAHA,IAAAC,EAAA,WAA4B1C,OAAA,KAA6BgC,aAAA,YAAwBhC,GAAA,OACjF2C,EAAAlB,EAAAM,EAAAW,EACAE,EAAAC,SAAAC,qBAAA,QACA1C,EAAA,EAAmBA,EAAAwC,EAAAtC,OAA6BF,IAAA,CAChD,IAAA2C,EAAAH,EAAAxC,GACA4C,EAAAD,EAAAE,aAAA,cAAAF,EAAAE,aAAA,QACA,kBAAAF,EAAAG,MAAAF,IAAAN,GAAAM,IAAAL,GAAA,OAAAH,IAEA,IAAAW,EAAAN,SAAAC,qBAAA,SACA,IAAA1C,EAAA,EAAmBA,EAAA+C,EAAA7C,OAA8BF,IAAA,CACjD2C,EAAAI,EAAA/C,GACA4C,EAAAD,EAAAE,aAAA,aACA,GAAAD,IAAAN,GAAAM,IAAAL,EAAA,OAAAH,IAEA,IAAAY,EAAAP,SAAAQ,cAAA,QACAD,EAAAF,IAAA,aACAE,EAAAE,KAAA,WACAF,EAAAG,OAAAf,EACAY,EAAAI,QAAA,SAAAC,GACA,IAAAC,EAAAD,KAAAE,QAAAF,EAAAE,OAAAC,KAAAjB,EACAkB,EAAA,IAAAC,MAAA,qBAAA9D,EAAA,cAAA0D,EAAA,KACAG,EAAAH,UACAjB,EAAAoB,IAEAT,EAAAV,KAAAC,EACA,IAAAoB,EAAAlB,SAAAC,qBAAA,WACAiB,EAAAC,YAAAZ,KACKa,KAAA,WACLrC,EAAA5B,GAAA,KAMA,IAAAkE,EAAA3D,EAAAP,GACA,OAAAkE,EAGA,GAAAA,EACA7B,EAAA7B,KAAA0D,EAAA,QACK,CAEL,IAAAC,EAAA,IAAA5B,QAAA,SAAAC,EAAAC,GACAyB,EAAA3D,EAAAP,IAAAwC,EAAAC,KAEAJ,EAAA7B,KAAA0D,EAAA,GAAAC,GAGA,IAEAC,EAFAL,EAAAlB,SAAAC,qBAAA,WACAuB,EAAAxB,SAAAQ,cAAA,UAGAgB,EAAAC,QAAA,QACAD,EAAAE,QAAA,IACA9C,EAAA+C,IACAH,EAAAI,aAAA,QAAAhD,EAAA+C,IAEAH,EAAAT,IAAA9B,EAAA9B,GAEAoE,EAAA,SAAAX,GAEAY,EAAAb,QAAAa,EAAAd,OAAA,KACAmB,aAAAH,GACA,IAAAI,EAAApE,EAAAP,GACA,OAAA2E,EAAA,CACA,GAAAA,EAAA,CACA,IAAAC,EAAAnB,IAAA,SAAAA,EAAAH,KAAA,UAAAG,EAAAH,MACAuB,EAAApB,KAAAE,QAAAF,EAAAE,OAAAC,IACAkB,EAAA,IAAAhB,MAAA,iBAAA9D,EAAA,cAAA4E,EAAA,KAAAC,EAAA,KACAC,EAAAxB,KAAAsB,EACAE,EAAApB,QAAAmB,EACAF,EAAA,GAAAG,GAEAvE,EAAAP,QAAA+E,IAGA,IAAAR,EAAAS,WAAA,WACAZ,GAAwBd,KAAA,UAAAK,OAAAU,KAClB,MACNA,EAAAb,QAAAa,EAAAd,OAAAa,EACAL,EAAAC,YAAAK,GAGA,OAAA9B,QAAA0C,IAAA5C,IAIAZ,EAAAyD,EAAArE,EAGAY,EAAA0D,EAAAxD,EAGAF,EAAA2D,EAAA,SAAAnD,EAAAoD,EAAAC,GACA7D,EAAA8D,EAAAtD,EAAAoD,IACA5E,OAAA+E,eAAAvD,EAAAoD,GAA0CI,YAAA,EAAAC,IAAAJ,KAK1C7D,EAAAkE,EAAA,SAAA1D,GACA,qBAAA2D,eAAAC,aACApF,OAAA+E,eAAAvD,EAAA2D,OAAAC,aAAwDC,MAAA,WAExDrF,OAAA+E,eAAAvD,EAAA,cAAiD6D,OAAA,KAQjDrE,EAAAsE,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAArE,EAAAqE,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,kBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAzF,OAAA0F,OAAA,MAGA,GAFA1E,EAAAkE,EAAAO,GACAzF,OAAA+E,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAArE,EAAA2D,EAAAc,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAzE,EAAA6E,EAAA,SAAApE,GACA,IAAAoD,EAAApD,KAAA+D,WACA,WAA2B,OAAA/D,EAAA,YAC3B,WAAiC,OAAAA,GAEjC,OADAT,EAAA2D,EAAAE,EAAA,IAAAA,GACAA,GAIA7D,EAAA8D,EAAA,SAAAgB,EAAAC,GAAsD,OAAA/F,OAAAC,UAAAC,eAAAC,KAAA2F,EAAAC,IAGtD/E,EAAAM,EAAA,cAGAN,EAAAgF,GAAA,SAAA5C,GAA8D,MAApB6C,QAAA5B,MAAAjB,GAAoBA,GAE9D,IAAA8C,EAAAC,OAAA,gBAAAA,OAAA,oBACAC,EAAAF,EAAAnG,KAAA6F,KAAAM,GACAA,EAAAnG,KAAAX,EACA8G,IAAAG,QACA,QAAA1G,EAAA,EAAgBA,EAAAuG,EAAArG,OAAuBF,IAAAP,EAAA8G,EAAAvG,IACvC,IAAAU,EAAA+F,EAIA7F,EAAAR,MAAA,oBAEAU,2GCnQqa6F,EAAA,8DCA2BC,EAAA,0BCChc9E,EAAAD,SAAkBgF,WAAA,8BAAAC,sBAAA,yCAAAC,MAAA,yBAAAC,UAAA,6BAAAC,KAAA,wBAAAC,SAAA,4BAAAC,UAAA,6BAAAC,SAAA,4BAAAC,SAAA,4BAAAC,YAAA,+BAAAC,OAAA,0BAAAC,UAAA,6BAAAC,GAAA,sBAAAC,GAAA,sBAAAC,GAAA,qFCDybC,EAAA,WAAAC,EAAA,yFCAVC,EAAA,gECASF,EAAA,WAAAG,EAAA,0FCmDtcC,EACAC,cCpDJC,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,OAAOC,GAAA,SAAYH,EAAA,OAAYI,YAAA,YAAsBJ,EAAA,QAAaE,OAAOG,KAAAT,EAAAS,KAAAC,WAAAV,EAAAW,UAAAC,cAAAZ,EAAAa,cAAuET,EAAA,oBAAAA,EAAA,OAAmCI,YAAA,cAAwBJ,EAAAJ,EAAAc,oBAAAC,cAAAf,EAAAgB,IAAmDxG,IAAA,aAAgB,YAAAwF,EAAAc,oBAAAG,OAAA,WACxXC,iECDAC,EAAA,WAA0B,IAAAnB,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,WAAqBgB,MAAApB,EAAAqB,OAAAC,kBAAiCtB,EAAA,UAAAI,EAAA,gBAAqCgB,MAAApB,EAAAqB,OAAAE,QAAAjB,OAAgCkB,KAAA,UAAAC,KAAA,MAA4BzB,EAAA0B,KAAAtB,EAAA,OAAqBE,OAAOC,GAAAP,EAAA2B,iBAAwBvB,EAAA,KAAUgB,MAAApB,EAAAqB,OAAAO,SAAAtB,OAAiCnG,KAAA6F,EAAA4B,YAAqB5B,EAAA6B,GAAA,mBACpWC,2DFCMC,EACJ,2EACIC,EAAU,0CACVC,GACJ,8DAEIC,GACJ,wCACA,6CACA,iDACA,2DACAC,KAAK,KACDC,GACJC,MAAO,OACPC,YAAW,SACXC,MAAO,QACPC,KAAM,YACNC,IAAK,OACLC,SAAU,SACVC,OAAM,QACNC,SAAU,WAENC,GACJC,SACEC,OAAQ,+CACRC,SAAU,aAEZC,kBACEF,OAAQ,+CACRC,SAAU,8BAIVE,GAAc,WACHC,gGAAf,SAAAC,IAAA,IAAAtH,EAAA,OAAAuH,mBAAAC,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,WACMP,EADN,CAAAK,EAAAE,KAAA,eAAAF,EAAAG,OAAA,iBAEQ5H,EAASxB,SAASQ,cAAc,UACtCgB,EAAO6H,iBAAiB,OAAQ,WAC9BT,GAAc,EACdU,KAAKC,KAAK,eAAgBC,KAE5BhI,EAAOT,IAAM,oCACbf,SAASyJ,KAAKtI,YAAYK,GAR5B,wBAAAyH,EAAAS,SAAAZ,EAAAnD,iCAiBA,IAAMgE,EAAoB,IAAIjK,QAAQ,SAACC,EAASC,GAC9C2F,EAAuB5F,EACvB6F,EAAsB5F,IACrBwB,KAAK,WAIN,GAAIkI,KAAKM,MAAMC,kBAAkBC,WAAWjH,MAC1C,OAAOyG,KAAKM,MAAMC,kBAAkBE,WAIxC,SAASP,IACPF,KAAKU,OACFnB,MACCoB,OAAQvC,EACRwC,SAAUzC,EACV0C,cAAexC,EACfyC,MAAOxC,IAERxG,KAAKmE,GACL8E,MAAM7E,GAGX,SAAS8E,EAAaC,GACpB,OAAOZ,EAAkBvI,KAAK,kBAC5BoJ,EAAQjC,EAAMC,SACXpH,KAAK,SAACqJ,GAAD,OAAcC,EAAUD,EAAUF,KACvCF,MAAM,SAAC9K,GAAD,OAAOsE,QAAQ5B,MAAM1C,OAIlC,SAASoL,IACP,OAAOhB,EAAkBvI,KAAK,kBAC5BoJ,EAAQjC,EAAMI,kBACXvH,KAAK,SAAAwJ,GAAA,IAAGnB,EAAHmB,EAAGnB,KAAH,OAAcA,IACnBrI,KAAK,SAACyJ,GACL,IAAMC,EAAOD,EAAIE,MAAM,MACjBC,EAAOF,EAAK,GAAGG,QAAQ,SAAU,IAAIF,MAAM,MACjD,OAAOD,EAAK7G,MAAM,GAAGiH,IAAI,SAACC,GACxB,IAAMC,EAASD,EAAIJ,MAAM,MACzB,OAAOC,EAAKK,OAAO,SAACC,EAAKC,EAAMC,GAC7B,IAAMjI,EAAMuE,EAAayD,IAASA,EAElC,OADAD,EAAI/H,GAAO6H,EAAOI,GACXF,aAwBnB,SAASd,EAAQiB,GACf,OAAOnC,KAAKU,OAAO0B,MAAMnD,MAAMoD,OAAOF,GAMxC,SAASf,EAAUD,EAAUF,GAC3B,IAAMqB,EAAUnB,EAAShB,KAAKoC,MAAM,oCAAoC,GAClEC,EAAM9L,SAAS+L,eAAexB,GACpCuB,EAAIE,UAAYJ,EAGlB,IAAAK,GACEpD,OACAyB,eACAK,uBGzHFrD,EACA,wFAEA4E,GACA1J,KAAA,kBACAvF,KAFA,WAGA,OACAkP,WAAA,EACA9E,cAAA,OACAC,aAGA8E,QATA,WASA,IAAAC,EAAA1G,KACAsG,EAAApD,OACAoD,EACA3B,aAAA3E,KAAA0B,eACAjG,KAAA,kBAAAiL,EAAAF,WAAA,IACA9B,MAAA,kBAAAgC,EAAAF,WAAA,MCjCmRG,EAAA,0BCQnR,SAAAC,EAAAC,GAEA7G,KAAA,UAAA8G,EAAA,WAAAC,QAAAD,EAAA,WAMA,IAAAE,EAAA/O,OAAAgP,EAAA,KAAAhP,CACA0O,EACAzF,EACAW,GACA,EACA+E,EACA,KACA,MAIAI,EAAAlB,QAAAoB,OAAA,sBACA,IAAAC,EAAAH,UC5BAI,EAAA,WAA0B,IAAArH,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBI,YAAA,kBAA4BR,EAAA6B,GAAA,OAAA7B,EAAAsH,GAAAtH,EAAAuH,OAAA,IAAAvH,EAAAsH,GAAAtH,EAAAwH,SAAA,IAAAxH,EAAAsH,GAAAtH,EAAAyH,SAAA,SACtIC,eCDe,SAASC,EAASC,EAAIC,EAAOf,GAC1C,IAAIgB,EAEJ,OADAhB,EAAUA,GAAW7G,KACd,WAAa,QAAA8H,EAAAC,UAAAjQ,OAATkQ,EAAS,IAAAC,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAATF,EAASE,GAAAH,UAAAG,GACdL,GAAW3L,aAAa2L,GAC5BA,EAAYrL,WAAW,kBAAMmL,EAAGlP,MAAMoO,EAASmB,IAAOJ,ICL3C,SAASO,EAAeC,GACrC,MAA+C,SAAxChK,OAAOiK,iBAAiBD,GAAIE,QCQrC,IAAAC,GACA1L,KAAA,eACAvF,KAFA,WAGA,OACAkR,WAAA,KACAlB,MAAA,GACAC,QAAA,GACAC,QAAA,KAGAiB,QAVA,WAWAzI,KAAA0I,aAAAhB,EAAA1H,KAAA0I,aAAA,MAEAjC,QAbA,WAcAzG,KAAA2I,iBACA3I,KAAA4I,gBACA5I,KAAA0I,eACAtK,OAAAsF,iBAAA,SAAA1D,KAAA0I,cAAA,IAEAG,cAnBA,WAoBA7I,KAAA8I,eACA1K,OAAA2K,oBAAA,SAAA/I,KAAA0I,cAAA,IAEAM,SACAN,aADA,WAEAP,EAAAnI,KAAAiJ,KACAjJ,KAAA4I,gBAEA5I,KAAA8I,gBAGAF,cARA,WASA5I,KAAA8I,eACA9I,KAAAwI,WAAAU,YAAAlJ,KAAA2I,eAAA,MAEAG,aAZA,WAaAK,cAAAnJ,KAAAwI,aAEAG,eAfA,WAgBA,IAAAS,EAAA,IAAAC,KACArJ,KAAAsH,MAAAgC,OAAAF,EAAAG,YAAAC,SAAA,OACAxJ,KAAAuH,QAAA+B,OAAAF,EAAAK,cAAAD,SAAA,OACAxJ,KAAAwH,QAAA8B,OAAAF,EAAAM,cAAAF,SAAA,UCnDgRG,EAAA,ECQhRC,aAAA3R,OAAAgP,EAAA,KAAAhP,CACA0R,EACAvC,EACAK,GACA,EACA,KACA,KACA,OAIAmC,EAAA9D,QAAAoB,OAAA,mBACA,IAAA2C,EAAAD,UCpBAE,EAAA,WAA0B,IAAA/J,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,WAAqBgB,MAAApB,EAAAqB,OAAA2I,cAA6B5J,EAAA,OAAYgB,MAAApB,EAAAqB,OAAA4I,OAAsB7J,EAAA,iBAAsBE,OAAO4J,SAAAlK,EAAAmK,aAAAC,MAAA,gBAAiD,GAAApK,EAAA,SAAAI,EAAA,eAAuCE,OAAO+J,KAAArK,EAAAqK,QAAiBrK,EAAA0B,KAAAtB,EAAA,OAAqBgB,MAAApB,EAAAqB,OAAA6E,UAAyB9F,EAAA,cAAmBE,OAAOgK,gBAAAtK,EAAAuK,eAAiCnK,EAAA,sBAAAJ,EAAA,SAAAI,EAAA,UAAuDgB,MAAApB,EAAAqB,OAAAmJ,aAA4BxK,EAAAyK,GAAAzK,EAAAwK,WAAA,kBAAAE,EAAAC,GAAuD,OAAAvK,EAAA,KAAevC,IAAA8M,IAAU3K,EAAA6B,GAAA7B,EAAAsH,GAAAoD,QAAwB,IAAA1K,EAAAwK,WAAAI,SAAA7S,OAAAqI,EAAA,KAAAJ,EAAA6B,GAAA,4BAAA7B,EAAA0B,MAAA,GAAA1B,EAAA0B,MAAA,IAC9lBmJ,KCDMC,uBAAO,kEACPC,KAEAC,GACJC,aADU,WAC2C,IAAA/F,EAAA8C,UAAAjQ,OAAA,QAAAyE,IAAAwL,UAAA,GAAAA,UAAA,MAAtCkD,EAAsChG,EAAtCgG,IAAKC,EAAiCjG,EAAjCiG,KAAMrO,EAA2BoI,EAA3BpI,KAAasO,EAAcpD,UAAAjQ,OAAA,QAAAyE,IAAAwL,UAAA,GAAAA,UAAA,GAAL,IAE9C,OAAIlL,EACF,iGAAAuO,OAGqDvO,EAHrD,yGAUEoO,GAAOC,EACT,wGAAAE,OAG4DF,EAH5D,KAAAE,OAGoEH,EAHpE,cAAAG,OAGoFD,EAHpF,yGAUK,cAETE,aA3BU,SA2BGC,GAEX,sEAAAF,OAEyCE,EAFzC,gCAMFC,kBAnCU,SAmCQD,GAEhB,8LAAAF,OAK4CE,EAL5C,2MAcJ,SAASE,EAAaC,GAAqB,QAAA3D,EAAAC,UAAAjQ,OAANkQ,EAAM,IAAAC,MAAAH,EAAA,EAAAA,EAAA,KAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAANF,EAAME,EAAA,GAAAH,UAAAG,GACzC,OAAOwD,MAAM,yDACX5H,0CAEM+G,EAFN,iCAAAO,OAGyBK,EAHzB,MAAAL,OAIiB,sBAAfK,EACI,qCACA,GANN,iBAAAL,OAQQL,EAAIU,GAAJhT,MAAAsS,EAAmB/C,GAR3B,8CAYA2D,OAAQ,OACRnO,KAAM,OACNoO,SACEC,eAAgB,cAGjBpQ,KAAK,SAACqQ,GACL,IAAMC,EAAcD,EAAKE,OAAOvQ,KAAK,SAACuQ,GAAD,OAAUA,EAAKC,SAASC,SAC7D,OAAIJ,EAAKK,GAAWJ,EACbA,EAAYtQ,KAAK,SAACJ,GAAD,OAAStB,QAAQE,OAAOoB,OAEjDI,KAAK,SAACuQ,GAAD,OAAUA,EAAK,GAAGP,SACvB/G,MAAM,SAACrJ,GAAD,OAAS6C,QAAQ5B,MAAMjB,KAGlC,SAAS+Q,EAAcN,GAErB,OADA5N,QAAQmO,IAAIP,GAAQ,cACbA,EAGT,SAASQ,EAAiBhB,GACxB,OAAOrT,OAAOsU,UAAWjB,GACvBzO,KAAMyO,EAAQkB,uBACdlM,GAAIgL,EAAQmB,kBACZC,OAAQ,OAIZ,SAASC,GAATC,GAAuC,IAAZ3B,EAAY2B,EAAZ3B,IAAK4B,EAAOD,EAAPC,IAC9B,OAAOrB,EAAa,gBAAkBP,MAAKC,KAAM2B,GAAO,KAAMpR,KAC5D,SAACqJ,GAAD,OAAcA,EAASxG,MAAM,EAAG,GAAGiH,IAAI+G,KAI3C,ICpGIQ,GACAC,GDmGJC,IACE9J,KADa,WAEX,OAAOsI,EAAa,gBAAgB/P,KAAK,SAACwR,GAAD,OACvCA,EAASC,QAAQ,SAAC5B,GAChBR,EAAWQ,EAAQmB,mBAAqBnB,EAAQkB,4BAItDG,mBACAQ,eATa,SASEC,GACb,OAAOT,GAAgBS,GAAK3R,KAAK,SAAC4R,GAAD,OAAWA,EAAM,MAEpDC,qBAZa,SAYQC,GACnB,OAAO/B,EAAa,eAAgB+B,GACjC9R,KAAK2Q,GACL3Q,KAAK,SAAC8O,GAAD,OACJI,SAAUJ,EAAWhF,IACnB,SAAAiI,GAAA,IAAGC,EAAHD,EAAGC,oBAAH,OAA6BA,QAIrCC,kBArBa,SAqBKpC,GAChB,OAAOE,EAAa,oBAAqBF,GACtC7P,KAAK,SAACqQ,GAAD,OAAWA,OAAYxN,MAAM,EAAG,MACrC7C,KAAK2Q,GACL3Q,KAAK,SAACkS,GAAD,OACJA,EAAKpI,IAAI,SAACqI,GAAD,OAAA3V,OAAA4V,EAAA,KAAA5V,IACJ2V,GACHtN,GAAIsN,EAAIE,WACRC,UACEH,EAAII,aACHlD,EAAW8C,EAAII,WAAW,GAAGC,eAAiB,IACjDC,IACEN,EAAIO,gBACHrD,EAAW8C,EAAIO,cAAc,GAAGF,eAAiB,IACpDpR,eAAS+Q,EAAIQ,mBAAmBlM,KAAK,MACrCmM,KAAMT,EAAIU,yBAAyBC,QAAQ,EAAG,GAC9CC,UAAW,IAAInF,KAAKuE,EAAIU,0BAA0BG,UAClDtP,QAAQ,EACRuP,MAAOd,EAAIe,gBACXC,MAAOhB,EAAIQ,mBAAmB,UAItCS,UA5Ca,SA4CHhS,GACR,OAAO2O,EAAa,gBAAkB3O,SAAQpB,KAAK,SAACwR,GAAD,OACjDA,EAAS3O,MAAM,EAAG,IAAIiH,IAAI+G,MAG9BxB,cCvJIgE,cAAgB,6CAChBC,GAAoB,qDAI1B,SAASzB,GAAqB0B,EAAKrD,GACjC,IAAMsD,EAAMtD,YACLoD,GADK,KAAA3D,OACgBO,EADhB,KAAAP,OAC0B4D,GAClCD,GACJ,OAAOG,GAAiBD,GAAOE,OAAQ,qBAAsB1T,KAC3D,SAAC8O,GAAD,OACEA,EAAW7E,OACT,SAACC,EAADV,GAAA,IAAQmK,EAARnK,EAAQmK,MAAOC,EAAfpK,EAAeoK,YAAaC,EAA5BrK,EAA4BqK,cAA5B,OACE3E,SAAUhF,EAAIgF,SAASS,OAAb,GAAAA,OAAuBgE,EAAvB,KAAAhE,OAAgCiE,IAC1CC,iBACGlE,OACCzF,EAAI2J,cACJA,EAAc/J,IAAI,SAAAqH,GAAA,IAAG2C,EAAH3C,EAAG2C,YAAH,OAAqBA,KAExCC,OAAO,SAACC,GAAD,OAAOA,OAEjB9E,gBAKV,SAAS+E,GAAkBC,EAAMC,GAC/B,IAAMxG,EAAM,IAAIC,KACVwG,EAAOzG,EAAI0G,cAAcvB,OAAO,EAAG,IACnCF,EAAOjF,EAAI2G,qBAAqBxB,OAAO,EAAG,GAC1CyB,YAAalB,GAAb,mBAAA1D,OAA4CuE,EAA5C,YAAAvE,OAA2DwE,EAA3D,UAAAxE,OAAwEyE,EAAxE,UAAAzE,OAAqFiD,EAArF,gBACN,OAAOa,GAAiBc,GAASvU,KAAK,SAACuQ,GAAD,OACpCiE,GAAQjE,EAAKkE,SAASC,MAAM5K,IAAI,SAAC1G,GAAD,OAAUoR,GAAQpR,EAAKuR,SAI3D,SAASvB,GAAUwB,GACjB,IAAMC,YAAgBxB,GAAhB,yBAAA1D,OAAqDmF,mBACzDF,GADI,gBAGN,OAAOnB,GAAiBoB,GACrB7U,KAAK,SAACuQ,GAAD,OAAUiE,GAAQjE,EAAKwE,aAAaC,cAAcnS,MAAM,EAAG,KAChE7C,KAAK,SAAC4R,GAAD,OACJA,EAAM9H,IAAI,SAACxB,GAAD,OACR9L,OAAOsU,UAAWxI,GAChB2I,OAAQ,WAMlB,SAASgE,GAAeC,GACtB,OAAOA,EAAMpL,IAAI,SAAC1G,GAChB,IAAMM,EAASN,EAAK+R,QAAU/R,EAAK+R,SAAW/R,EAAKwP,KAC7CA,EAAOxP,EAAK+R,QAAU/R,EAAKwP,KAC3BwB,EAAOhR,EAAKgS,QAAUhS,EAAKgR,KAC3BrB,EAAY,IAAInF,KAAJ,GAAA+B,OAAYyE,EAAZ,KAAAzE,OAAoBiD,IAAQI,UAE9C,OAAOxW,OAAOsU,UAAW1N,GACvB6N,OAAQ,KACR3N,UAAW+R,QAAQjS,EAAKE,WACxBI,SACAqP,gBAKN,SAASuC,GAAczQ,EAAI0Q,GACzB,IAAM5H,EAAM,IAAIC,KACVwG,EAAOzG,EAAI0G,cAAcvB,OAAO,EAAG,IACnCF,EAAOjF,EAAI2G,qBAAqBxB,OAAO,EAAG,GAC5C+B,YAAgBxB,GAAhB,qBAAA1D,OAAiDmF,mBACnDjQ,GADE,UAAA8K,OAEMmF,mBAAmBV,GAFzB,UAAAzE,OAEuCmF,mBACzClC,GAHE,gBAQJ,OAHI2C,IACFV,YAAgBA,EAAhB,cAAAlF,OAAuC4F,IAElCC,GAAa3Q,EAAIgQ,GACrB7U,KAAK,SAACuQ,GAAD,OAAUA,EAAKkF,aAAaC,UACjC1V,KAAKiV,IAGV,SAASU,GAAkB9Q,EAAI0Q,GAC7B,IAAIV,YAAgBxB,GAAhB,uBAAA1D,OAAmDmF,mBACrDjQ,GADE,gBAMJ,OAHI0Q,IACFV,YAAgBA,EAAhB,cAAAlF,OAAuC4F,IAGvCC,GAAa3Q,EAAIgQ,GACd7U,KAAK,SAACuQ,GAAD,OAAUA,EAAKqF,eAAeC,gBAEnC7V,KAAKiV,IAIZ,SAASO,GAAa3Q,EAAIgQ,GACxB,OAAOpB,GAAiBoB,GAAY7U,KAAK,SAACkK,GAAQ,IACxCrJ,EAAqBqJ,EAArBrJ,MAAOiV,EAAc5L,EAAd4L,UAIf,OAHIjV,GAASiV,IACXrT,QAAQ5B,MAAM,iBAAkBA,GAASiV,GAEpC5L,IAIX,SAAS6L,GAAThE,GAAkD,IAA5BiE,EAA4BjE,EAA5BiE,MAAOC,EAAqBlE,EAArBkE,KAAMC,EAAenE,EAAfmE,MAAOC,EAAQpE,EAARoE,KAClCC,EAAW,SAACC,GAAD,OAAWC,KAAKC,MAAc,IAARF,IACjC7C,YAASH,GAAT,kBAAA1D,OAAuCyG,EAASH,GAAhD,UAAAtG,OAA8DyG,EAClEJ,GADI,UAAArG,OAEIyG,EAASD,GAFb,UAAAxG,OAE2ByG,EAASF,GAFpC,qBAGN,OAAOzC,GAAiBD,GAAKxT,KAAK,SAAAwW,GAAA,IAAGC,EAAHD,EAAGC,QAAH,OAAiBA,EAAQC,WAG7D,SAASC,GAAiBnD,GACxB,OAAOC,GAAiBD,GAAKxT,KAAK,SAAA4W,GAAA,IAAGC,EAAHD,EAAGC,cAAH,OAAuBA,IAG3D,SAASC,GAAYtD,GACnB,OAAOC,GAAiBD,GAAKxT,KAAK,SAAA+W,GAAA,IAAGC,EAAHD,EAAGC,SAAH,OAAkBA,IAGtD,SAASvD,GAAiBD,EAAKyD,GAC7B,IAAMC,EAAqB5Y,QAAQC,UAC7B4R,EAAA3T,OAAA4V,EAAA,KAAA5V,IACDya,GACHE,+BAAyB9F,MAQ3B,QALKC,IAAWA,GAAQ0B,UAAYpF,KAAKD,SACvClL,QAAQmO,IAAI,4BACZsG,EAAmBlX,KAAKoX,KAGnBF,EACJlX,KAAK,kBAAMiQ,MAAMuD,GAAOrD,cACxBnQ,KAAKqX,IAGV,SAASC,GAATC,GAAgE,IAArC/H,EAAqC+H,EAArC/H,IAAK4B,EAAgCmG,EAAhCnG,IAAOoG,EAAyBlL,UAAAjQ,OAAA,QAAAyE,IAAAwL,UAAA,GAAAA,UAAA,GAAjB,EAAGmL,IAAcnL,UAAAjQ,OAAA,QAAAyE,IAAAwL,UAAA,KAAAA,UAAA,GACxDkH,YAASH,GAAT,yCAAA1D,OAA8DH,EAA9D,qBAAAG,OAAqFyB,EAArF,WAAAzB,OACJ,EADsG6H,EAAlG,gBAEN,OAAO/D,GAAiBD,GACrBxT,KAAK,SAACuQ,GACL,GAAIA,EAAKwE,aAAae,UACpB,MAAM,IAAIjW,MAAM0Q,EAAKwE,aAAae,WAGpC,OAAKvF,EAAKwE,aAAaC,aAIhBzE,EAAKwE,aAAaC,aAAajB,OAAO,SAAA2D,EAAWzI,EAAO0I,GAAS,IAAxBvW,EAAwBsW,EAAxBtW,KACxCwW,EAAaD,EAAKE,UAAU,SAACvP,GAAD,OAAUA,EAAKlH,OAASA,IAC1D,OAAOwW,IAAe3I,IAErBnF,IAAI,SAACxB,GAAD,OAAA9L,OAAA4V,EAAA,KAAA5V,IACA8L,GACH2I,OAAQ,SAETpO,MAAM,EAAG2U,QAEbvO,MAAM,SAAC6O,GACN,IAAIL,EAKF,MADAhV,QAAQ5B,MAAM,oBAAqBiX,GAC7BA,EAJNrV,QAAQ5B,MAAM,qBAAsBiX,EAAQ,YAC5CR,IAAkB9H,MAAK4B,OAAOoG,GAAO,KAQ7C,SAASJ,KACP,OAAOnH,MAAM,uCACXE,SACEgH,cACE,qFACF/G,eAAgB,qCAElBF,OAAQ,OACR7H,KAAM,kCAELrI,KAAKqX,IACLrX,KAAK,SAACqQ,GAIL,OAHAgB,GAAYhB,EAAK0H,aACjBzG,GAAU,IAAI1D,KAAKA,KAAKD,MAA0B,IAAlB0C,EAAK2H,YACrCvV,QAAQmO,IAAR,qBAAAjB,OAAiC2B,GAAQ2G,mBAClC5H,EAAK0H,eAIlB,SAASV,GAAgBhO,GACvB,OAAIA,EAASqH,GAAWrH,EAASkH,OAC1BlH,EAASkH,OAAOvQ,KAAK,SAACJ,GAAD,OAAStB,QAAQE,OAAOoB,KAGtD,SAAS4U,GAAQ0D,GACf,OAAOA,KAASvI,OAAOuI,MAGzB,IAAMC,GAAmBf,KAEzB,SAASgB,KACP,OAAOD,GAGT,IAAAE,IACE5Q,KAAA2Q,GACA1G,eAAgB,SAACC,GAAD,OAAS2F,GAAgB3F,EAAK,IAC9CT,gBAAAoG,GACAlE,aACA0D,eACAH,oBACA1C,qBACAhC,kBAAA0D,GACAL,iBACAzD,wBACAkE,cACAd,mBC9NIqD,cAAU,yBACVC,IACJrI,OAAQ,OAGJsI,IACJC,EAAK,OACLC,GAAM,UACNC,GAAM,UACNC,GAAM,OACNC,GAAM,UACNC,GAAM,UACNC,GAAM,UACNC,GAAM,UACNC,GAAM,UACNC,GAAM,QACNC,GAAM,SACNC,GAAM,YACNC,GAAM,YACNC,GAAM,SACNC,GAAM,SACNC,GAAM,SACNC,GAAM,OACNC,GAAM,OACNC,GAAM,OACNC,GAAM,OACNC,GAAM,OACNC,GAAM,OACNC,GAAM,QAER,SAASC,GAAmBC,GAC1B,OAAOzB,GAAiByB,IAAW,UAGrC,SAASC,GAAc5R,GACrB,OAAA9L,OAAA4V,EAAA,KAAA5V,IACK8L,GACH6R,QAAS7R,EAAKzD,GACdA,GAAIyD,EAAKzD,GAAGiO,QAAQ,GACpB7B,OAAQ,OAIZ,SAASmJ,GAAT5Q,GAAkD,IAAvBgG,EAAuBhG,EAAvBgG,IAAK4B,EAAkB5H,EAAlB4H,IAAOoG,EAAWlL,UAAAjQ,OAAA,QAAAyE,IAAAwL,UAAA,GAAAA,UAAA,GAAH,EACvCnK,EAAM,mCACNqR,iCAA8BrR,EAA9B,oBAAAwN,OAAoDH,EAApD,qBAAAG,OAA2EyB,EAA3E,gBAAAzB,OAA6F6H,GACnG,OAAO6C,GAAY7G,GAAKxT,KAAK,SAACuQ,GAC5B,IAAMqB,EAAQpF,MAAM0H,KAAK3D,EAAKwE,aAAaC,cAC3C,OAAOpD,EAAM9H,IAAIoQ,MAIrB,SAASxI,GAAeC,GACtB,OAAOyI,GAAgBzI,EAAK,GAAG,GAGjC,SAAS2I,GAAUC,GACjB,IAAMpY,EAAM,mCACNqR,+BAA4BrR,EAA5B,kBAAAwN,OAAgDmF,mBACpDyF,GADI,iBAGN,OAAOF,GAAY7G,GAChBxT,KAAK,SAACuQ,GAAD,OAAUiK,GAAQjK,EAAKkK,gBAC5Bza,KAAK,SAAC4R,GAAD,OACJA,EACGmC,OAAO,SAACzL,EAAM8B,GACb,IAAMsQ,EAAa9I,EAAMiG,UACvB,SAAA1G,GAAA,IAAGwJ,EAAHxJ,EAAGwJ,OAAH,OAAgBA,IAAWrS,EAAKqS,SAElC,OAAOD,GAActQ,IAEtBvH,MAAM,EAAG,GACTiH,IAAI,SAACxB,GAAD,OAAA9L,OAAA4V,EAAA,KAAA5V,IACA8L,GACHlH,KAAMkH,EAAKsS,KACX/V,GAAIyD,EAAKqS,OACT1J,OAAQ,WAKlB,IAAM4J,IACJC,IAAK,OACLC,MAAO,SACPC,KAAM,MACNC,MAAO,MACPC,KAAM,YAER,SAASC,GAAShZ,GAChB,OAAO0Y,GAAU1Y,IAAQA,EAG3B,SAASiZ,GAAkBC,GACzB,IAAMlZ,EAAM,mCACNqR,0CAAuCrR,EAAvC,YAAAwN,OAAqD0L,EAArD,kBACN,OAAOhB,GAAY7G,GAAKxT,KAAK,SAACuQ,GAAD,OAC3B/T,OAAA8e,EAAA,KAAA9e,CACK+T,EAAKkK,aAAac,OADvB5L,OAAAnT,OAAA8e,EAAA,KAAA9e,CAEK+T,EAAKkK,aAAae,QAFvBhf,OAAA8e,EAAA,KAAA9e,CAGK+T,EAAKkK,aAAagB,OAHvBjf,OAAA8e,EAAA,KAAA9e,CAIK+T,EAAKkK,aAAaiB,QAJvBlf,OAAA8e,EAAA,KAAA9e,CAKK+T,EAAKkK,aAAakB,QACrB7R,IAAI,SAAC1G,GAAD,OAAA5G,OAAA4V,EAAA,KAAA5V,IACD4G,GACHwY,QAAS5B,GAAmB5W,EAAKyY,YACjCC,QAAS,QACTxJ,UAAWlP,EAAK2Y,YAChBhJ,UAAW,IAAInF,KACbxK,EAAK4Y,kBAAoB5Y,EAAK6Y,oBAC9BjJ,UACFJ,KAAMxP,EAAK6Y,mBAAmBnJ,OAAO,GAAI,GACzCqC,OAAQ/R,EAAK4Y,iBAAiBlJ,OAAO,GAAI,GACzC1R,eAAS+Z,GAAS/X,EAAK8Y,eAAvB,KAAAvM,OAAyCvM,EAAKyY,YAC9C1I,MAAO/P,EAAKyY,WACZ5I,MAAO7P,EAAK+Y,sBAAwB/Y,EAAKgZ,iBACzCnL,OAAQ,KACRxS,KAAM,IACNiF,OAAQN,EAAK6Y,qBAAuB7Y,EAAK4Y,uBAK/C,SAASK,GAAqBhB,GAC5B,IAAMlZ,EAAM,mCACNqR,gCAA6BrR,EAA7B,YAAAwN,OAA2C0L,GACjD,OAAOhB,GAAY7G,GAChBxT,KAAK,SAACuQ,GAAD,OAAUiK,GAAQjK,EAAKkK,gBAC5Bza,KAAK,SAACuQ,GACL,OACErB,SAAUqB,EAAKzG,IAAI,SAAAiI,GAAA,IAAGuK,EAAHvK,EAAGuK,QAAH,OAAiBA,OAK5C,SAASC,GAAgBlT,GACvB,OAAIA,EAASqH,IAA0B,MAApBrH,EAASmT,OACnBnT,EAASkH,OAGblH,EAASqH,IAIdjO,QAAQmO,IAAI,0CACLvH,GAJEA,EAASkH,OAAOvQ,KAAK,SAACJ,GAAD,OAAStB,QAAQE,OAAOoB,KAOxD,SAAS4a,GAAQtC,GACf,OAAQA,MAAUvI,OAAOuI,OAG3B,SAASmC,GAAYoC,GACnB,IAAMjJ,YAAS8E,GAAT,KAAA3I,OAAoB8M,GACpB5H,qDAAyDC,mBAC7DtB,IAEF,OAAOvD,MAAM4E,EAAY0D,IACtBvY,KAAKuc,IACLtT,MAAM,SAACrJ,GAAD,OAAS6C,QAAQ5B,MAAMjB,KAGlC,IAAA8c,IACEhL,kBACAR,gBAAAkJ,GACAnI,kBAAAmJ,GACAvJ,qBAAAwK,GACAjJ,UAAAkH,GACA7S,KANa,WAOX,OAAOnJ,QAAQC,YCpKNoe,IACX9Y,IACEoP,MAAO,OACPE,MAAO,YAETvP,IACEqP,MAAO,OACPE,MAAO,SAETrP,IACEmP,MAAO,OACPE,MAAO,UAIXyJ,IACEhZ,GAAAyU,GACAxU,GAAA0N,GACAzN,GAAA4Y,ICtBFG,GAAA,WAA0B,IAE1BC,EAF0BxY,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,SAAmBgB,OAAApB,EAAAqB,OAAAoX,gBAAAD,KAA6CA,EAAAxY,EAAAqB,OAAAkH,SAAAvI,EAAA0Y,mBAAAF,MAA6DpY,EAAA,UAAegB,MAAApB,EAAAqB,OAAAsX,SAAwBvY,EAAA,MAAWgB,MAAApB,EAAAqB,OAAAuX,UAAyB5Y,EAAA6B,GAAA,cAAA7B,EAAA,sBAAAI,EAAA,gBAAsEE,OAAOkB,KAAA,UAAAC,KAAA,MAA4BzB,EAAA0B,KAAAtB,EAAA,UAAwBgB,MAAApB,EAAAqB,OAAAwX,SAAAC,IAA8BC,MAAA,SAAAC,GAAyBA,EAAAC,iBAAwBjZ,EAAAkZ,uBAAA,OAAmClZ,EAAA6B,GAAA,WAAAzB,EAAA,KAA4BgB,MAAApB,EAAAqB,OAAA8X,cAA6BnZ,EAAAoZ,sBAAApZ,EAAA0B,KAAAtB,EAAA,QAAAJ,EAAA6B,GAAA,WAAA7B,EAAAsH,GAAAtH,EAAAqZ,QAAAvc,MAAA,QAAAkD,EAAAsH,GAAAtH,EAAAqZ,QAAArL,WAAA,YAAA5N,EAAA,KAAwJgB,MAAApB,EAAAqB,OAAAiY,QAAAhZ,OAAgCnG,KAAA,KAAW2e,IAAKC,MAAA,SAAAC,GAAyBA,EAAAC,iBAAwBjZ,EAAAuZ,cAAA,aAA6BvZ,EAAA6B,GAAA,qBAAA7B,EAAAoZ,sBACz1BpZ,EAAA0B,KADy1BtB,EAAA,OAAqEgB,MAAApB,EAAAqB,OAAAmY,UAA0BxZ,EAAAyK,GAAAzK,EAAA,eAAAgE,GAAmC,OAAA5D,EAAA,OAAiBvC,IAAAmG,EAAAyV,QAAAzV,EAAAlH,KAAAsE,OAAApB,EAAAqB,OAAA2C,MAAAwU,KAAgEA,EAAAxY,EAAAqB,OAAAqY,YAAA1V,EAAA2V,QAAAnB,MAAsDpY,EAAA,OAAYgB,MAAApB,EAAAqB,OAAAuY,cAA6BxZ,EAAA,OAAYgB,MAAApB,EAAAqB,OAAAwY,YAAyBzZ,EAAA,OAAcgB,MAAApB,EAAAqB,OAAAyY,WAA0B9Z,EAAA6B,GAAA,aAAA7B,EAAAsH,GAAAtD,EAAA+V,WAAA/V,EAAAyV,SAAA,cAAArZ,EAAA,OAAqFgB,MAAApB,EAAAqB,OAAA2Y,WAA0Bha,EAAA6B,GAAA7B,EAAAsH,GAAAtD,EAAAlH,SAAAsD,EAAA,OAAwCgB,MAAApB,EAAAqB,OAAA4Y,YAA2Bja,EAAA6B,GAAA7B,EAAAsH,GAAAtD,EAAA2K,YACp5C,IAAA6J,QAEA0B,UCuCApd,KAAA,iBACAvF,KAFA,WAGA,OACA8R,IAAAC,KAAAD,MACAvB,UAAA,OAGApB,QARA,WAQA,IAAAC,EAAA1G,KACAA,KAAA6H,UAAAqB,YAAA,WACAxC,EAAA0C,IAAAC,KAAAD,OACA,MAEAP,cAbA,WAcAM,cAAAnJ,KAAA6H,YAEAqS,SAAAjiB,OAAA4V,EAAA,KAAA5V,IACAA,OAAAkiB,EAAA,KAAAliB,EACA,qBACA,wBACA,qBAEAmhB,QANA,WAOA,IAAAA,EAAApZ,KAAAoa,gBACA,IAAAhB,EAAA,SACA,IAAAiB,KAAAjP,OAAAgO,EAAAkB,WACA,OACAzd,QAAAuO,OAAAgO,EAAAmB,aAAA,GAAA1d,KACAkR,UAAAsM,IAAAviB,OAAA,GAAA0iB,IAGAnN,MAfA,WAeA,IAAAoN,EAAAza,KACAoZ,EAAApZ,KAAAoa,gBACA,OAAAhB,EACAA,EAAAsB,KAAAnV,IAAA,SAAAxB,GACA,IAAA4W,EAAA,IAAAtR,KAAA,GAAA+B,OAAArH,EAAA6W,QAAA,KAAAxP,OAAArH,EAAAyV,UAAA/K,UACA,OAAAxW,OAAA4V,EAAA,KAAA5V,IACA8L,GACA2V,QAAAiB,EAAAF,EAAArR,cAKAJ,QAAA/Q,OAAA4V,EAAA,KAAA5V,IACAA,OAAAkiB,EAAA,KAAAliB,EAAA,0BACAA,OAAAkiB,EAAA,KAAAliB,CAAA,4BCtFkR4iB,GAAA,gBCQlR,SAAAC,GAAAjU,GAEA7G,KAAA,UAAA+a,GAAA,WAAAhU,QAAAgU,GAAA,WAMA,IAAAC,GAAA/iB,OAAAgP,EAAA,KAAAhP,CACA4iB,GACAvC,GACA2B,IACA,EACAa,GACA,KACA,MAIAE,GAAAlV,QAAAoB,OAAA,qBACA,IAAA+T,GAAAD,WC5BAE,GAAA,WAA0B,IAAAnb,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBI,YAAA,iBAAAY,OAAoCga,aAAApb,EAAAoK,OAA0B0O,IAAKuC,MAAArb,EAAAsb,aAAAC,MAAA,SAAAvC,GAAkD,iBAAAA,IAAAhZ,EAAAwb,GAAAxC,EAAAyC,QAAA,SAAAzC,EAAAnb,IAAA,UAA8FmC,EAAA0b,aAAA1C,GAAf,SAAiD5Y,EAAA,SAAAJ,EAAA6B,GAAA,SAAA7B,EAAAsH,GAAAtH,EAAAoK,OAAA,WAAAhK,EAAA,SAAuEub,aAAa7e,KAAA,QAAA8e,QAAA,UAAAre,MAAAyC,EAAA,WAAA6b,WAAA,eAA8Evb,OAAS4J,SAAAlK,EAAAkK,SAAAnP,KAAA,SAAA+gB,YAAA,IAAyDC,UAAWxe,MAAAyC,EAAA,YAAyB8Y,IAAKkD,OAAA,SAAAhD,GAA0BA,EAAA5d,OAAA6gB,YAAsCjc,EAAAkc,WAAAlD,EAAA5d,OAAAmC,QAAmCyC,EAAAmc,SAAAd,MAAArb,EAAAsb,aAAAc,KAAApc,EAAAqc,qBAAAd,OAAA,SAAAvC,GAAiG,iBAAAA,IAAAhZ,EAAAwb,GAAAxC,EAAAyC,QAAA,WAAAzC,EAAAnb,IAAA,SAA+FmC,EAAAsc,sBAAAtD,GAAf,MAAwDhZ,EAAAuc,mBAAsBvc,EAAA,UAAAI,EAAA,gBAAqCI,YAAA,0BAAAF,OAA6CkB,KAAA,UAAAC,KAAA,GAAA+a,cAAA,UAAiDxc,EAAA0B,MAAA,GAAAtB,EAAA,MAAwBub,aAAa7e,KAAA,OAAA8e,QAAA,SAAAre,MAAAyC,EAAA,KAAA6b,WAAA,SAAgErb,YAAA,gCAA4CR,EAAA,kBAAAI,EAAA,MAAmCI,YAAA,6BAAAsY,IAA6CyC,MAAAvb,EAAAuc,kBAA4Bnc,EAAA,UAAe0Y,IAAIC,MAAA,SAAAC,GAAiD,OAAxBA,EAAAC,iBAAwBjZ,EAAAyc,eAAAzD,OAAoC5Y,EAAA,gBAAqBE,OAAOkB,KAAA,gBAAqBpB,EAAA,QAAAJ,EAAA6B,GAAA,IAAA7B,EAAAsH,GAAAtH,EAAA0c,oBAAA,OAAA1c,EAAA,qBAAAI,EAAA,gBAA4GE,OAAOkB,KAAA,UAAAC,KAAA,MAA4BzB,EAAA0B,MAAA,KAAA1B,EAAA0B,KAAA1B,EAAAyK,GAAAzK,EAAA,qBAAAgE,GAAkE,OAAAhE,EAAA,gBAAAI,EAAA,MAAsCvC,IAAAmG,EAAAlH,KAAA0D,YAAA,6BAAAsY,IAA2DyC,MAAAvb,EAAAuc,kBAA4Bnc,EAAA,UAAe0Y,IAAIC,MAAA,SAAAC,GAAyBA,EAAAC,iBAAwBjZ,EAAA2c,SAAA3Y,IAAmBuX,MAAA,SAAAvC,GAA0B,gBAAAA,IAAAhZ,EAAAwb,GAAAxC,EAAAyC,QAAA,WAAAzC,EAAAnb,IAAA,KAA4E,YAAemC,EAAA2c,SAAA3Y,OAAqBhE,EAAA6B,GAAA7B,EAAAsH,GAAAtD,EAAAlH,WAAAkD,EAAA0B,QAAyC1B,EAAAkc,YAAAlc,EAAAsN,MAAAvV,QAAAiI,EAAAyG,UAAmLzG,EAAA0B,KAAnLtB,EAAA,MAAmEI,YAAA,+BAAyCJ,EAAA,UAAe0Y,IAAIC,MAAA,SAAAC,GAAyBA,EAAAC,qBAA2BjZ,EAAA6B,GAAA,mCAAA7B,EAAAyK,GAAAzK,EAAA,eAAA4c,GAA6F,OAAAxc,EAAA,MAAgBvC,IAAA+e,EAAArc,GAAAC,YAAA,6BAAAsY,IAA+DyC,MAAAvb,EAAAuc,kBAA4Bnc,EAAA,UAAe0Y,IAAIC,MAAA,SAAAC,GAAyBA,EAAAC,iBAAwBjZ,EAAA2c,SAAAC,IAAyBrB,MAAA,SAAAvC,GAA0B,gBAAAA,IAAAhZ,EAAAwb,GAAAxC,EAAAyC,QAAA,WAAAzC,EAAAnb,IAAA,KAA4E,YAAemC,EAAA2c,SAAAC,OAA2B5c,EAAA6B,GAAA7B,EAAAsH,GAAAsV,EAAA9f,cAAsC,MAC7sF+f,MC0EAC,yBACAhgB,KAAA,gBACA4J,QAFA,WAGAzG,KAAA8c,mBACA9c,KAAAic,WAAAjc,KAAA8c,iBAAAjgB,MAEAmD,KAAA+c,mBAAArV,EAAA1H,KAAA6O,UAAA,IAAA7O,OAEAgB,OACAmJ,OACArP,KAAAwO,OACA0T,QAAA,IAEA/S,UACAnP,KAAAgW,QACAkM,SAAA,IAGA1lB,KAlBA,WAmBA,OACA2lB,MAAA,EACAhB,WAAA,KAGA/B,SAAAjiB,OAAA4V,EAAA,KAAA5V,IACAA,OAAAkiB,EAAA,KAAAliB,CAAA,eACAA,OAAAkiB,EAAA,KAAAliB,EAAAilB,qBAAA,mBACAjlB,OAAAkiB,EAAA,KAAAliB,CAAA,2CACAA,OAAAkiB,EAAA,KAAAliB,CAAA,+BACAA,OAAAkiB,EAAA,KAAAliB,EACAklB,aAAA,SAAAlY,GAAA,IAAAmY,EAAAnY,EAAAmY,KAAA,OAAAA,EAAA7P,UACAuP,iBAAA,SAAAlQ,GAAA,IAAA+D,EAAA/D,EAAA+D,MAAA,OAAAA,EAAApD,aAEAkP,mBATA,WAUA,OAAAzc,KAAAkd,qBAAA,iCACAld,KAAAqd,kBAAA,oBAEAC,kBAbA,WAcA,OAAAtd,KAAAic,aAAAjc,KAAAud,YAAAzlB,QAEA0lB,gBAhBA,WAiBA,OAAAxd,KAAAic,YAAAjc,KAAAud,YAAAzlB,QAEA2lB,eAnBA,WAoBA,OAAAzd,KAAAqN,MAAAvV,QAAAkI,KAAAud,YAAAzlB,UAGA4lB,OACAZ,iBADA,SACAa,GACAA,IAAA3d,KAAAic,WAAA,MAGAjT,QAAA/Q,OAAA4V,EAAA,KAAA5V,IACAA,OAAAkiB,EAAA,KAAAliB,CAAA,6CACAA,OAAAkiB,EAAA,KAAAliB,CAAA,uBACAA,OAAAkiB,EAAA,KAAAliB,CAAA,6BACAikB,QAJA,SAAA1O,GAIA,IAAAlQ,EAAAkQ,EAAArS,OAAAmC,MACA0C,KAAA+c,mBAAAzf,IAMAof,SAXA,SAWAnP,GACAvN,KAAAic,WAAA1O,EAAA1Q,KACAmD,KAAA4d,eAAArQ,GACAvN,KAAAyb,eACAzb,KAAA6O,UAAAtB,EAAA1Q,MAAApB,KAAAuE,KAAAyb,eAEAY,sBAjBA,WAkBA,IAAArc,KAAAqN,MAAAvV,QACAkI,KAAA0c,SAAA1c,KAAAqN,MAAA,KAEAiP,eArBA,SAqBA1iB,GACA,IAAAwQ,GACAyT,QAAA,yBACAC,UAAA,sBAEAC,EAAA,SAEAC,EAAA,SAAA5V,GAAA,OAAAA,EAAA6V,cAAA7T,EAAAxQ,EAAAgE,OAEA,IACA,uBAAAsgB,SAAAtkB,EAAAgE,MACAoC,KAAAid,MACAjd,KAAAyd,eACA,CACA,IAAAU,EAAAne,KAAAiJ,IAAAmV,cAAA,gCAAAhT,OACA2S,EADA,WAGA,GAAAI,EAAA,CACA,IAAA3a,EAAAwa,EAAAG,GACA3a,GACAA,EAAA4a,cAAAL,GAAA3C,aAGApb,KAAAiJ,IACAmV,cADA,gCAAAhT,OACA2S,IACA3C,UAIAC,aAlDA,WAmDArb,KAAAid,MAAA,GAEAxB,aArDA,WAsDAzb,KAAAid,MAAA,EACA5iB,SAAAgkB,cAAAlC,QAEAC,qBAzDA,SAyDAxiB,GACAA,EAAA0kB,eAAAte,KAAAiJ,IAAAsV,SAAA3kB,EAAA0kB,gBACAte,KAAAyb,oBC1LiR+C,GAAA,GCQjRC,cAAAxmB,OAAAgP,EAAA,KAAAhP,CACAumB,GACAtD,GACA0B,IACA,EACA,KACA,KACA,OAIA6B,GAAA3Y,QAAAoB,OAAA,oBACA,ICfIwX,GACAC,GDcJC,GAAAH,WEpBAI,GAAA,WAA0B,IAG1BtG,EAH0BxY,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBgB,OAAApB,EAAAqB,OAAA3C,YAAA8Z,KAAyCA,EAAAxY,EAAAqB,OAAA/B,IAAA,OAAAU,EAAA+e,QAAAvG,EAAAxY,EAAAqB,OAAA9B,IAAA,OAAAS,EAAA+e,QAAAvG,EAAAxY,EAAAqB,OAAA7B,IAAA,OAAAQ,EAAA+e,QAAAvG,EAAAxY,EAAAqB,OAAA1C,uBAAAqB,EAAA0Y,mBAAAF,MAA+MpY,EAAA,SAAcgB,MAAApB,EAAAqB,OAAAzC,QAAuBwB,EAAA,SAAcgB,MAAApB,EAAAqB,OAAAxC,YAA2BuB,EAAA,MAAAA,EAAA,MAAAJ,EAAA6B,GAAA7B,EAAAsH,GAAAtH,EAAAgf,cAAA5e,EAAA,MAAAJ,EAAA6B,GAAA,SAAAzB,EAAA,MAAAJ,EAAA6B,GAAA7B,EAAAsH,GAAAtH,EAAAuK,gBAAAnK,EAAA,MAAiIgB,MAAApB,EAAAqB,OAAAlC,cAA6Ba,EAAA6B,GAAA,YAAAzB,EAAA,MAAAJ,EAAA6B,GAAA7B,EAAAsH,GAAAtH,EAAAif,mBAAA7e,EAAA,SAA+EgB,MAAApB,EAAAqB,OAAA6d,YAA2B9e,EAAA,MAAWub,aAAa7e,KAAA,OAAA8e,QAAA,SAAAre,MAAAyC,EAAA,UAAA6b,WAAA,gBAA4Ezb,EAAA,MAAWE,OAAO6e,QAAA,OAAenf,EAAA6B,GAAA,gDAAAzB,EAAA,gBAA4EE,OAAOkB,KAAA,UAAAC,KAAA,OAA4B,KAAAzB,EAAAyK,GAAAzK,EAAA,eAAAlB,GAA0C,OAAAsB,EAAA,MAAgBvC,IAAAiB,EAAAyB,GAAAa,OAAApB,EAAAqB,OAAAvC,MAAA0Z,KAA+CA,EAAAxY,EAAAqB,OAAArC,WAAAF,EAAAE,UAAAwZ,IAAAM,IAA2DC,MAAA,SAAAC,GAAyBhZ,EAAAof,kBAAAtgB,OAA8BsB,EAAA,MAAWgB,MAAApB,EAAAqB,OAAAtC,SAAAsgB,OAAkCC,gBAAAxgB,EAAAwY,QAAAiI,MAAAzgB,EAAA0Y,WAAuDxX,EAAA6B,GAAA,eAAA7B,EAAAsH,GAAAxI,EAAA+P,OAAA,gBAAAzO,EAAA,MAAoEgB,MAAApB,EAAAqB,OAAAnC,WAA0BkB,EAAA,QAAagB,OAAA,eAAAoe,KAAmCA,EAAAxf,EAAAqB,OAAAjC,QAAAN,EAAAM,OAAAogB,MAAqDxf,EAAA6B,GAAA7B,EAAAsH,GAAAxI,EAAA+R,QAAA/R,EAAAwP,SAAAlO,EAAA,QAAwDI,YAAA,gBAA0BR,EAAA6B,GAAA7B,EAAAsH,GAAAxI,EAAAwP,WAAAlO,EAAA,MAAyCgB,MAAApB,EAAAqB,OAAAoe,WAA0Brf,EAAA,OAAAA,EAAA,QAAuBgB,MAAApB,EAAAqB,OAAApC,WAA0Be,EAAA6B,GAAA,mBAAA7B,EAAAsH,GAAAxI,EAAAkP,WAAAlP,EAAA4gB,QAAA,oBAAA5gB,EAAA,WAAAsB,EAAA,QAAAJ,EAAA6B,GAAA,SAAA7B,EAAA0B,KAAA5C,EAAA,UAAAsB,EAAA,QAAAJ,EAAA6B,GAAA,uBAAA7B,EAAA0B,OAAAtB,EAAA,OAA2NgB,MAAApB,EAAAqB,OAAAse,UAAyB7gB,EAAA,IAAAsB,EAAA,SAAAJ,EAAA6B,GAAA,QAAA7B,EAAAsH,GAAAxI,EAAAqP,QAAAnO,EAAA0B,SAAAtB,EAAA,MAAkFgB,OAAApB,EAAAqB,OAAAlC,YAAAa,EAAAqB,OAAAjC,UAAkDN,EAAA,OAAAsB,EAAA,QAAAJ,EAAA6B,GAAA7B,EAAAsH,GAAAxI,EAAA+R,WAAA7Q,EAAA0B,OAAAtB,EAAA,MAA6EgB,MAAApB,EAAAqB,OAAAhC,YAA2BW,EAAA6B,GAAA7B,EAAAsH,GAAAxI,EAAA6P,YACplE,IAAA6J,EACAgH,IAAYpf,EAAA,MAAWub,aAAa7e,KAAA,OAAA8e,QAAA,SAAAre,OAAAyC,EAAAyG,WAAAzG,EAAAwN,UAAA,IAAAxN,EAAA4Q,MAAA7Y,OAAA8jB,WAAA,mDAA0Jzb,EAAA,MAAWE,OAAO6e,QAAA,OAAenf,EAAA6B,GAAA,oCAE/N+d,MDAMC,GAAc,oBAAqBxhB,OAKzC,SAASyhB,KAEPnB,GAAStgB,OAAO0hB,gBAAgBC,YAChCpB,GAAgBD,GAAOsB,KAAK,SAAA/a,GAAA,IAAGpI,EAAHoI,EAAGpI,KAAH,MAAsB,QAARA,IAcrC,SAASojB,GAAM5P,GACpB,GAAKuP,GAAL,CAEA,IAAInV,EAAM,IAAIyV,yBAGdzV,EAAI4F,KAAOA,EAGX5F,EAAI0V,OAAS,EACb1V,EAAI2V,KAAO,GACX3V,EAAI4V,MAAQ,EAIP1B,GAGHlU,EAAI6V,MAAQ3B,GAFZzgB,QAAQmO,IAAI,0BAMdjO,OAAO0hB,gBAAgBS,MAAM9V,IA/B3BmV,IAAaC,KAGjBzhB,OAAO0hB,gBAAgBU,gBAAkB,WACvCX,MA8BF,IEeAY,IACA5jB,KAAA,aACAmE,OACAsJ,aACAxP,KAAAwO,OACA0T,QAAA,KAGAvW,QARA,WASAzG,KAAAugB,MAAA7Y,EAAA1H,KAAAugB,MAAA,IAAAvgB,OAEAka,SAAAjiB,OAAA4V,EAAA,KAAA5V,IACAA,OAAAkiB,EAAA,KAAAliB,EACAwgB,mBAAA,SAAAiI,GAAA,OAAAA,EAAAjI,oBACAqG,QAAA,SAAA7Z,GAAA,IAAA0b,EAAA1b,EAAA0b,IAAA,OAAAA,EAAA9jB,QAEA5E,OAAAkiB,EAAA,KAAAliB,CAAA,SACAuO,UAAA,SAAAoG,GAAA,IAAAgU,EAAAhU,EAAApG,UAAA,OAAAoa,GACArT,SAAA,SAAAC,GAAA,IAAAqT,EAAArT,EAAAD,SAAA,OAAAsT,GACAC,QAAA,SAAA7O,GAAA,IAAAnM,EAAAmM,EAAAnM,QAAA,OAAAA,EAAAwa,SAEAroB,OAAAkiB,EAAA,KAAAliB,EAAA0Y,MAAA,wBACA1Y,OAAAkiB,EAAA,KAAAliB,CAAA,iBACA8mB,UAZA,WAaA,OAAA/e,KAAAoK,KAAAwE,OAEAoQ,WAfA,WAgBA,OAAAhf,KAAAoK,KAAAsE,SAGAgP,OACA/M,MADA,SACAoQ,GACA/gB,KAAAugB,MAAAQ,KAGA/X,QAAA/Q,OAAA4V,EAAA,KAAA5V,IACAA,OAAAkiB,EAAA,KAAAliB,EAAA,uBACAsoB,MAFA,SAEA5P,GACA,KAAAA,EAAA7Y,OAAA,IAAAkI,KAAA8gB,QAAA,CADA,IAAAE,EAEArQ,EAAA,GAAA9T,EAFAmkB,EAEAnkB,KAAAkR,EAFAiT,EAEAjT,UAAAS,EAFAwS,EAEAxS,UACAN,EAAAyC,EAAA,GAAAzC,KAAA,OAAA9C,OAAAuF,EAAA,GAAAzC,IAAA,SACA+S,EAAAlP,KAAAmP,MAAA1S,EAAAnF,KAAAD,OAAA,KAEA6W,GADAgB,GAAA,EACA,GAAA7V,OAAAvO,EAAA,SAAAuO,OAAA2C,EAAA,MAAA3C,OAAA8C,EAAA,aACA,IAAA+S,EACA,GAAA7V,OAAAvO,EAAA,SAAAuO,OAAA2C,EAAA,MAAA3C,OAAA8C,EAAA,sBACA+S,EAAA,GAAAA,GAAA,GACA,GAAA7V,OAAAvO,EAAA,SAAAuO,OAAA2C,EAAA,MAAA3C,OAAA8C,EAAA,cAAA9C,OAAA6V,EAAA,YAEA,GAAA7V,OAAAvO,EAAA,SAAAuO,OAAA2C,EAAA,MAAA3C,OAAA8C,EAAA,mCCnH8QiT,GAAA,gBCQ9Q,SAAAC,GAAAva,GAEA7G,KAAA,UAAAqhB,GAAA,WAAAta,QAAAsa,GAAA,WAMA,IAAAC,GAAArpB,OAAAgP,EAAA,KAAAhP,CACAkpB,GACAtC,GACAc,IACA,EACAyB,GACA,KACA,MAIAE,GAAAxb,QAAAoB,OAAA,iBACA,IAAAqa,GAAAD,WC5BAE,GAAA,WAA0B,IAAAzhB,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBgB,MAAApB,EAAAqB,OAAAqgB,cAA6BthB,EAAA,OAAYgB,MAAApB,EAAAqB,OAAAoO,SAAwBrP,EAAA,gBAAqBI,YAAA,cAAAF,OAAiCkB,KAAA,YAAiBpB,EAAA,QAAaI,YAAA,gBAA0BR,EAAA6B,GAAA,iBAAAzB,EAAA,OAAoCgB,MAAApB,EAAAqB,OAAAoO,SAAwBrP,EAAA,UAAeE,OAAOxD,KAAA,QAAcgc,IAAK6I,OAAA3hB,EAAA4hB,gBAA2BxhB,EAAA,UAAeE,OAAO/C,MAAA,MAAYyC,EAAA6B,GAAA7B,EAAAsH,GAAAtH,EAAAuK,gBAAAvK,EAAAyK,GAAAzK,EAAA,sBAAA6P,GAA6E,OAAAzP,EAAA,UAAoBvC,IAAAgS,EAAAkM,UAAmB8F,SAAA7hB,EAAAyP,OAAAI,SAAAtS,MAAAsS,KAAkD7P,EAAA6B,GAAA7B,EAAAsH,GAAAuI,SAAyB,KAAAzP,EAAA,OAAkBgB,MAAApB,EAAAqB,OAAAoO,SAAwBrP,EAAA,UAAeE,OAAOxD,KAAA,SAAegc,IAAK6I,OAAA3hB,EAAA4hB,gBAA2BxhB,EAAA,UAAeE,OAAO/C,MAAA,MAAYyC,EAAA6B,GAAA,UAAA7B,EAAAyK,GAAAzK,EAAA,gBAAA2O,GAAuD,OAAAvO,EAAA,UAAoBvC,IAAA8Q,EAAAoN,UAAoB8F,SAAA7hB,EAAAyP,OAAAd,UAAApR,MAAAoR,KAAqD3O,EAAA6B,GAAA7B,EAAAsH,GAAAqH,SAA0B,KAAAvO,EAAA,OAAkBgB,OAAApB,EAAAqB,OAAAoO,OAAA,kBAA0CrP,EAAA,SAAAJ,EAAA6B,GAAA,wBAAAzB,EAAA,SAAyDE,OAAOvF,KAAA,WAAA+B,KAAA,UAAkCif,UAAW+F,QAAA9hB,EAAA+F,QAAAgc,QAA6BjJ,IAAKkD,MAAAhc,EAAAgiB,oBAA0B5hB,EAAA,OAAgBgB,MAAApB,EAAAqB,OAAAoO,SAAwBrP,EAAA,SAAcgB,MAAApB,EAAAqB,OAAAkf,QAAuBngB,EAAA,gBAAqBE,OAAOkB,MAAA,MAAAxB,EAAA+F,QAAAwa,MAAA,6BAAgEngB,EAAA,SAAcgB,MAAApB,EAAAqB,OAAA4gB,cAAA3hB,OAAsCvF,KAAA,WAAA+B,KAAA,SAAiCif,UAAW+F,QAAA9hB,EAAA+F,QAAAwa,OAA4BzH,IAAKkD,MAAAhc,EAAAgiB,iBAA0B,KAAA5hB,EAAA,OAAkBgB,MAAApB,EAAAqB,OAAAoO,SAAwBrP,EAAA,UAAegB,MAAApB,EAAAqB,OAAA6gB,WAAA5hB,OAAmC+O,MAAA,aAAoByJ,IAAKC,MAAA,SAAAC,GAAyBA,EAAAC,iBAAwBjZ,EAAAmiB,eAAiB/hB,EAAA,gBAAqBE,OAAOkB,KAAA,WAAe,QACpsD4gB,oCCDe,SAASC,GAAsBC,EAAGC,GAC/C,IAAMC,EAAKC,OAAOH,IAAMA,EAAEI,WAAW,GAC/BC,EAAKF,OAAOF,IAAMA,EAAEG,WAAW,GACrC,OAAIF,EAAKG,GAAY,EACjBH,EAAKG,EAAW,EACb,mBCLM,SAASC,GAAYC,GAClC,KAAMA,aAAgBC,aACpB,MAAMvnB,MAAM,gCAF0B,IAKhCwnB,EAAmBF,EAAnBE,SAAUjmB,EAAS+lB,EAAT/lB,KAClB,GAAiB,WAAbimB,EACF,OAAA7qB,OAAA+E,GAAA,KAAA/E,IACG4E,EAAO+lB,EAAKG,gBAAgB,GAAGzlB,OAGpC,GAAiB,UAAbwlB,EAAsB,CACxB,IAAMxlB,GAAS,WAAY,SAAS4gB,SAAS0E,EAAK9nB,MAC9C8nB,EAAKf,QACLe,EAAKtlB,MACT,OAAArF,OAAA+E,GAAA,KAAA/E,IACG4E,EAAOS,GAGZ,MAAMhC,qCAA8BsnB,EAAKE,WC8D3C,IAAAE,IACAnmB,KAAA,cACAmE,OACAoJ,MACAtP,KAAA7C,OACA+kB,QAAA,uBAGA1lB,KARA,WASA,OACA2rB,OAAA,EACAC,YACA5lB,MAAA,KAAAT,KAAA,WACAS,MAAA,KAAAT,KAAA,YACAS,MAAA,MAAAT,KAAA,aACAS,MAAA,MAAAT,KAAA,aACAS,MAAA,MAAAT,KAAA,aACAS,MAAA,MAAAT,KAAA,cACAS,MAAA,OAAAT,KAAA,gBAIAqd,SAAAjiB,OAAA4V,EAAA,KAAA5V,IACAA,OAAAkiB,EAAA,KAAAliB,CAAA,8BACAA,OAAAkiB,EAAA,KAAAliB,EAAA0Y,MAAA,yBACArG,YAHA,WAIA,OAAAtK,KAAAoK,KAAA+Y,UAEAC,kBANA,WAOA,OAAApjB,KAAAoK,KAAAiZ,UAEAC,aATA,WAUA,OAAArb,MAAA0H,KACA,IAAA4T,IAAAvjB,KAAA2Q,MAAApL,IAAA,SAAAN,GAAA,IAAA8I,EAAA9I,EAAA8I,UAAA0R,EAAAxa,EAAAwa,OAAA,OAAA1R,GAAA0R,OAGA+D,OAdA,WAeA,IAAAA,EAAAxjB,KAAA2Q,MACApL,IAAA,SAAAqH,GAAA,IAAA8B,EAAA9B,EAAA8B,MAAA,OAAAA,IACAc,OAAA,SAAAC,GAAA,OAAAA,IACAlK,IAAA+D,QAEA,OAAArB,MAAA0H,KAAA,IAAA4T,IAAAC,IAAAC,KAAArB,OAGApZ,QAAA/Q,OAAA4V,EAAA,KAAA5V,IACAA,OAAAkiB,EAAA,KAAAliB,CAAA,oCACAA,OAAAkiB,EAAA,KAAAliB,CAAA,uBACA0pB,aAHA,SAAAnU,GAGA,IAAArS,EAAAqS,EAAArS,OACAqU,EAAAmT,GAAAxnB,GACAqU,GACAxP,KAAA0jB,UAAAlU,IAEAuS,aARA,SAAA9P,GAQA,IAAA9W,EAAA8W,EAAA9W,OACAwoB,EAAAhB,GAAAxnB,GACAwoB,GACA3jB,KAAA4jB,WAAAD,OCzI+QE,GAAA,gBCQ/Q,SAAAC,GAAAjd,GAEA7G,KAAA,UAAA+jB,GAAA,WAAAhd,QAAAgd,GAAA,WAMA,IAAAC,GAAA/rB,OAAAgP,EAAA,KAAAhP,CACA4rB,GACArC,GACAW,IACA,EACA2B,GACA,KACA,MAIAE,GAAAle,QAAAoB,OAAA,kBACA,IAAA+c,GAAAD,WCQAE,IACAC,SACAd,SAAA,WACAF,SAAA,QAEAiB,WACAf,SAAA,QACAF,SAAA,SAIAkB,IACAxnB,KAAA,cACAynB,YACA1F,iBACA3D,kBACAsG,cACA0C,gBAEAjjB,OACAujB,UACAzpB,KAAAgW,QACAkM,SAAA,IAGA1lB,KAdA,WAeA,OACAktB,iBAGAtK,SAAAjiB,OAAA4V,EAAA,KAAA5V,IACAA,OAAAkiB,EAAA,KAAAliB,CAAA,mCACAA,OAAAkiB,EAAA,KAAAliB,CAAA,OACA6mB,QAAA,SAAA7Z,GAAA,IAAApI,EAAAoI,EAAApI,KAAA,OAAAA,GACAqN,aAAA,SAAA0C,GAAA,IAAA6X,EAAA7X,EAAA1C,aAAA,OAAAua,KAEAxsB,OAAAkiB,EAAA,KAAAliB,CAAA,gBACAmS,KAPA,WAQA,OAAApK,KAAAukB,SAAAL,GAAAC,QAAAD,GAAAE,WAEAnH,KAVA,WAWA,QAAAjd,KAAA2Q,MAAA7Y,QAEAwS,YAbA,WAcA,OAAAtK,KAAAukB,SAAA,eAEAnB,kBAhBA,WAiBA,OAAApjB,KAAAukB,SAAA,sBAGA7G,OACA6G,SADA,SACA5G,EAAA+G,GACA/G,IAAA+G,GACA1kB,KAAAuN,UACAvN,KAAAkiB,SAAAliB,KAAAuN,WAIAuR,QARA,SAQAnB,EAAA+G,GACA/G,IAAA+G,IACAxoB,aAAA8D,KAAA2kB,eACA3kB,KAAA4kB,0BAIAne,QAtDA,WAuDAzG,KAAA4kB,wBAEA/b,cAzDA,WA0DA3M,aAAA8D,KAAA2kB,gBAEA3b,QAAA/Q,OAAA4V,EAAA,KAAA5V,IACAA,OAAAkiB,EAAA,KAAAliB,CAAA,uBAEA2sB,qBAHA,WAGA,IAAAle,EAAA1G,KACA,kCAAAA,KAAA8e,SACAxY,EAAAtB,sBAAAvJ,KAAA,SAAAkK,GACAe,EAAA8d,YAAAnM,GAAAhZ,GAAAqR,eAAA/K,GACAzH,QAAAmO,IAAA,mBAAA3F,EAAA8d,mBClH+QK,GAAA,gBCQ/Q,SAAAC,GAAAje,GAEA7G,KAAA,UAAA+kB,GAAA,WAAAhe,QAAAge,GAAA,WAMA,IAAAC,GAAA/sB,OAAAgP,EAAA,KAAAhP,CACA4sB,GACA/a,EACAc,GACA,EACAka,GACA,KACA,MAIAE,GAAAlf,QAAAoB,OAAA,kBACA,IAAA+d,GAAAD,WC5BAE,GAAA,WAA0B,IAAAnlB,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,MAAgBgB,MAAApB,EAAAqB,OAAAZ,MAAsBT,EAAAyK,GAAAzK,EAAA,cAAAolB,GAAiC,OAAAhlB,EAAA,MAAgBvC,IAAAunB,EAAAtoB,KAAAsE,OAAApB,EAAAqB,OAAA+jB,KAAA5M,KAA+CA,EAAAxY,EAAAqB,OAAAgkB,UAAAD,EAAAE,MAAA9M,EAAAxY,EAAAqB,OAAAkkB,WAAAvlB,EAAAa,aAAAukB,EAAAtoB,KAAA0b,EAAAxY,EAAAqB,OAAAmkB,aAAAJ,EAAAlb,SAAAsO,MAAwJpY,EAAA,KAAUgB,MAAApB,EAAAqB,OAAAokB,KAAAnlB,OAA6B+O,MAAA+V,EAAAtoB,KAAA3C,KAAA,KAA4B2e,IAAKC,MAAA,SAAAC,GAAyBA,EAAAC,iBAAwBmM,EAAAM,QAAAN,EAAAtoB,KAAAsoB,EAAAnkB,MAAAujB,cAA4CY,EAAA,KAAAhlB,EAAA,gBAAgCgB,MAAApB,EAAAqB,OAAAskB,WAAArlB,OAAmCkB,KAAA4jB,EAAA5jB,QAAiBxB,EAAA0B,KAAA0jB,EAAAjb,aAAmHnK,EAAA0B,KAAnHtB,EAAA,QAA0CgB,OAAAoe,KAAmBA,EAAAxf,EAAAqB,OAAAukB,aAAAR,EAAA5jB,KAAAge,KAAsDxf,EAAA6B,GAAA,aAAA7B,EAAAsH,GAAA8d,EAAAtoB,MAAA,cAAAsoB,EAAA,aAAAhlB,EAAA,gBAAoGE,OAAOkB,KAAA,UAAAC,KAAA,MAA4BzB,EAAA0B,MAAA,KAC12B,IAAA8W,EACAgH,MACAqG,MC8BAC,IACAhpB,KAAA,gBACAmE,OACAR,MACA1F,KAAAmN,MACA+U,QAAA,sBAEAyI,SACA3qB,KAAAgrB,SACA9I,QAAA,cAEApc,YACA9F,KAAAwO,OACA0T,QAAA,MC9CwQ+I,GAAA,gBCQxQ,SAAAC,GAAAnf,GAEA7G,KAAA,UAAAimB,GAAA,WAAAlf,QAAAkf,GAAA,WAMA,IAAAC,GAAAjuB,OAAAgP,EAAA,KAAAhP,CACA8tB,GACAb,GACAU,IACA,EACAI,GACA,KACA,MAIAE,GAAApgB,QAAAoB,OAAA,WACA,IAAAif,GAAAD,WCHAE,IACA7kB,KAAA,GACAP,OAAAujB,UAAA,GACAkB,QAHA,cAKAnB,KAEAznB,KAAA,WACAiE,cAAA,iBAGAjE,KAAA,YACAiE,cAAA,eACAE,OAAAujB,UAAA,KAGA1nB,KAAA,QACAiE,cAAA,gBACAS,KAAA,QAGA1E,KAAA,OACAiE,cAAA,mBACAS,KAAA,gBAIA8kB,IACAxpB,KAAA,MACAynB,YACAgC,aAAA,kBAAArtB,EAAAW,EAAA,cAAA6B,KAAAxC,EAAA4E,KAAA,eACAsoB,QACAlB,eACApb,eACA1C,mBAEA+S,SAAAjiB,OAAA4V,EAAA,KAAA5V,IACAA,OAAAkiB,EAAA,KAAAliB,EACA6mB,QAAA,SAAA7Z,GAAA,IAAA0b,EAAA1b,EAAA0b,IAAA,OAAAA,EAAA9jB,MACAqN,aAAA,SAAA0C,GAAA,IAAA+T,EAAA/T,EAAA+T,IAAA,OAAAA,EAAAzW,gBAEAjS,OAAAkiB,EAAA,KAAAliB,CAAA,uBACAA,OAAAkiB,EAAA,KAAAliB,CAAA,gBACAuI,KAPA,WAOA,IAAAkG,EAAA1G,KACA,OAAA/H,OAAA4V,EAAA,KAAA5V,IAEAmuB,IACAvpB,KAAAmD,KAAA8e,QACAuG,OAAA,EACAI,QAAAzlB,KAAAumB,UACArc,aAAAlK,KAAAkK,gBANAkB,OAAAnT,OAAA8e,EAAA,KAAA9e,CAQAqsB,GAAA/e,IAAA,SAAAihB,GAAA,OAAAvuB,OAAA4V,EAAA,KAAA5V,IACAmuB,GACAI,GACAvc,SACAuc,EAAAxlB,OACAwlB,EAAAxlB,MAAAujB,UACA,oBAAA7d,EAAAia,IAAA5P,cACA0U,QAAA/e,EAAAhG,iBAIAG,oBA3BA,WA2BA,IAAA4Z,EAAAza,KACA,OAAAA,KAAAQ,KAAAwf,KAAA,SAAAxS,GAAA,IAAA3Q,EAAA2Q,EAAA3Q,KAAA,OAAAA,IAAA4d,EAAA7Z,gBAGAoI,QAAA/Q,OAAA4V,EAAA,KAAA5V,IACAA,OAAAkiB,EAAA,KAAAliB,CAAA,yBACAA,OAAAkiB,EAAA,KAAAliB,CAAA,0BACAA,OAAAkiB,EAAA,KAAAliB,CAAA,sBACAyI,UAJA,SAIAykB,EAAAZ,GACAvkB,KAAAymB,YAAAlC,GACAvkB,KAAAsZ,cAAA6L,OClG2PuB,GAAA,GCQ3PC,cAAA1uB,OAAAgP,EAAA,KAAAhP,CACAyuB,GACA5mB,EACAmB,GACA,EACA,KACA,KACA,OAIA0lB,GAAA7gB,QAAAoB,OAAA,UACA,IAAA0f,GAAAD,mCCpBME,IACJjH,YAAa,gBAAiBkH,UAC9BtgB,WACE+G,UAAU,EACVgQ,aAAa,GAEfhQ,SAAU,KACVwZ,UAAW,KACXxJ,eACAF,iBAAkB,IAGd2J,IACJxgB,UADc,SAAAvB,GACW,IAAbuB,EAAavB,EAAbuB,UACV,OAAOA,EAAU+G,UAAY/G,EAAU+W,cAIrC0J,IACEzK,eADQ,eAAA0K,EAAAjvB,OAAAkvB,EAAA,KAAAlvB,CAAAmL,mBAAAgkB,KAAA,SAAAjkB,EAAAyJ,GAAA,IAAAya,EAAAC,EAAA5G,EAAA6G,EAAAC,EAAA,OAAApkB,mBAAAC,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACS6jB,EADTza,EACSya,OAAQC,EADjB1a,EACiB0a,SAAU5G,EAD3B9T,EAC2B8T,MAAO6G,EADlC3a,EACkC2a,UAAWC,EAD7C5a,EAC6C4a,YACpD9G,EAAMd,YAFC,CAAAtc,EAAAE,KAAA,eAAAF,EAAAG,OAAA,oBAGPid,EAAMnT,SAHC,CAAAjK,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAIJ8jB,EAAS,mBAJL,OAOZD,EAAO,cAAgB9J,aAAa,IACpCiK,EAAY,WACT7a,gBAAgB+T,EAAMnT,UACtB9R,KAAK,SAAC8hB,GAELrf,QAAQmO,IAAI,cAAekR,GAEzBA,GACAA,EAAYzlB,QACZylB,EAAY,GAAG7Q,SAAW6a,EAAU5G,IAAI9jB,KAExCwqB,EAAO,iBAAkB9J,IAEzB8J,EACE,sBACA,0CAEF7qB,WAAW,kBAAM6qB,EAAO,sBAAuB,KAAK,MAEtDA,EAAO,cAAgB9J,aAAa,MAErC7Y,MAAM,SAAC6O,GACNrV,QAAQ5B,MAAMiX,GACd8T,EAAO,cAAgB9J,aAAa,IACpC8J,EAAO,sBAAuB,yBA/BtB,wBAAA/jB,EAAAS,SAAAZ,EAAAnD,SAAA,gBAAAynB,GAAA,OAAAP,EAAAzuB,MAAAuH,KAAA+H,YAAA,GAkCd2f,gBAlCc,SAAAla,GAkCqB,IAAjB6Z,EAAiB7Z,EAAjB6Z,OAAQ3G,EAASlT,EAATkT,MACxB,OAAKA,EAAMd,aAEXyH,EAAO,cAAgB9Z,UAAU,IAC1B,IAAIxT,QAAQ,SAACC,EAASC,GAC3B6sB,UAAUa,YAAYC,mBAAmB5tB,EAASC,KAEjDwB,KAAK,SAAC2R,GACLia,EAAO,cAAgB9Z,UAAU,IACjC8Z,EAAO,gBAAgB,GACvBA,EAAO,cAAeja,EAAIya,UAE3BnjB,MAAM,SAAC6O,GACNrV,QAAQ5B,MAAMiX,GACd8T,EAAO,cAAgB9Z,UAAU,IACjC8Z,EAAO,gBAAgB,MAdIttB,QAAQC,YAmBrC8tB,IACJC,WADgB,SACLrH,EAAOsH,GAChBtH,EAAMla,UAANvO,OAAA4V,EAAA,KAAA5V,IACKyoB,EAAMsH,QACNA,IAGPC,aAPgB,SAOHvH,EAAOpjB,GAClBojB,EAAMqG,UAAYzpB,GAEpB4qB,YAVgB,SAUJxH,EAAOmH,GACjBnH,EAAMnT,UACJtC,IAAK4c,EAAOM,SACZtb,IAAKgb,EAAOO,YAGhBC,eAhBgB,SAgBD3H,EAAOrT,GACpBqT,EAAMnD,YAAclQ,EACpBqT,EAAMrD,iBAAmB,IAE3BiL,oBApBgB,SAoBI5H,EAAOpkB,GACzBokB,EAAMrD,iBAAmB/gB,IAI7B8gB,IACEmL,YAAY,EACZ7H,MAAAmG,GACAG,WACAC,WACAa,uCCtGIU,GAAY,YAEH,SAASC,GAAkBrE,GACxC,GAAIoE,GAAUE,KAAKtE,EAAUrW,WAAY,KAAA4a,EACdvE,EAAUrW,UAAU3I,MAAMojB,IADZI,EAAA3wB,OAAA4wB,GAAA,KAAA5wB,CAAA0wB,EAAA,GAChC5a,EADgC6a,EAAA,GACrB1a,EADqB0a,EAAA,GAEvC,OAAO3wB,OAAOsU,UAAW6X,GACvBrW,YACAG,QAGJ,OAAOkW,ECRT,ICKI0E,GDLEC,IACJra,MAAO,GACPkB,KAAM,GACNoB,SAAU,IAENgY,IACJre,YACA2E,kBAEI2Z,IACJnH,QAAQ,EACRxB,OAAO,GAEH4I,GAAajxB,OAAOoN,KAAK0jB,IACzBI,GAAalxB,OAAOoN,KAAK4jB,IAEzBG,IACJ7E,UAAU,EACV/U,OAAAvX,OAAA4V,EAAA,KAAA5V,IAAa8wB,IACbjjB,QAAA7N,OAAA4V,EAAA,KAAA5V,IAAcgxB,IACdtY,SACApG,WAAAtS,OAAA4V,EAAA,KAAA5V,IAAiB+wB,IACjBxiB,WAAW,EACX+G,SAAU,MAGN8b,IACJC,cADc,SAAArkB,GAC+B,IAA7B0L,EAA6B1L,EAA7B0L,MAAOnB,EAAsBvK,EAAtBuK,OAAQjF,EAActF,EAAdsF,WAErBmE,EAAgBc,EAAhBd,MAAOkB,EAASJ,EAATI,KAF4B2Z,EAGZhf,EAAvB+E,qBAHmC,IAAAia,OAW3C,OAAO5Y,EACJpL,IAAI,SAAC1G,GAAD,OAAA5G,OAAA4V,EAAA,KAAA5V,IACA4G,GACH2qB,WAAYla,EAAc4O,SAASrf,EAAK+P,WAEzCY,OAAO,SAAC3Q,GAAD,OAAW6P,GAAQ7P,EAAK6P,QAAUA,IACzCc,OACC,SAAA5C,GAAA,IAAGmB,EAAHnB,EAAGmB,UAAW0R,EAAd7S,EAAc6S,OAAd,OACE7P,IAAO7B,IAAc6B,GAAQ6P,IAAW7P,KAE3C6T,KAAK,SAACpB,EAAGC,GAAJ,OAAUD,EAAE7T,UAAY8T,EAAE9T,cAIhCib,IACJvH,SADc,SAAA1U,GACsD,IAAzD6Z,EAAyD7Z,EAAzD6Z,OAAQ3G,EAAiDlT,EAAjDkT,MAAO8G,EAA0Cha,EAA1Cga,YAAeja,EAA2BxF,UAAAjQ,OAAA,QAAAyE,IAAAwL,UAAA,GAAAA,UAAA,GAAhB2Y,EAAMnT,SAClDmc,EAAiBhJ,EAAM6D,SACzBiD,EAAY,WAAW,iBACvBA,EAAY,WAAW,qBAE3B,OADAH,EAAO,cAAc,GACdqC,EAAenc,EAASjN,GAAIogB,EAAMlR,OAAOwB,UAC7CvV,KAAK,SAACqQ,GACL,IAAM6E,EAAQ7E,EAAKvG,IAAIkjB,IACvBvqB,QAAQmO,IAAI,aAAcsE,GAE1B0W,EAAO,WAAY1W,GACnB0W,EAAO,cAAc,KAEtB3iB,MAAM,SAAC6O,GACNrV,QAAQ5B,MAAM,aAAciX,GAC5B8T,EAAO,cAAc,MAG3B/Z,qBAnBc,SAAA2E,EAmBgC1E,GAAU,IAAjC8Z,EAAiCpV,EAAjCoV,OAAQG,EAAyBvV,EAAzBuV,YAC7B,OAAOA,EAAY,WAChBla,qBAAqBC,EAASjN,GAAI,YAClC7E,KAAK,SAAC8O,GACLrM,QAAQmO,IAAI,aAAc9B,GAC1B8c,EAAO,gBAAiB9c,KAEzB7F,MAAM,SAAC6O,GAAD,OAAYrV,QAAQ5B,MAAM,yBAA0BiX,MAE/DqK,eA5Bc,SAAAvL,EA4B8B9E,GAAU,IAArC+Z,EAAqCjV,EAArCiV,SAAUD,EAA2BhV,EAA3BgV,OAAQ3G,EAAmBrO,EAAnBqO,MAC7BA,EAAMnT,WAAaA,IAEvBrP,QAAQmO,IAAI,mBAAoBkB,GAChC8Z,EAAO,cAAe9Z,GACtB+Z,EAAS,WAAY/Z,GACrB+Z,EAAS,uBAAwB/Z,MAI/Boc,IACJC,MADgB,SACVlJ,GACJA,EAAM/P,SACN+P,EAAMlR,OAANvX,OAAA4V,EAAA,KAAA5V,IAAoB8wB,IACpBrI,EAAMnT,SAAW,KACjBmT,EAAMnW,WAANtS,OAAA4V,EAAA,KAAA5V,IAAwB+wB,KAE1BtF,UAPgB,SAONhD,EAAOlR,GACf,IAAKvX,OAAOoN,KAAKmK,GAAQqa,MAAM,SAACjsB,GAAD,OAASsrB,GAAWhL,SAAStgB,KAC1D,OAAOM,QAAQ5B,MACb,cACA,4CACA4sB,IAGJxI,EAAMlR,OAANvX,OAAA4V,EAAA,KAAA5V,IACKyoB,EAAMlR,OACNA,IAGPoU,WApBgB,SAoBLlD,EAAO5a,GAChB,IAAK7N,OAAOoN,KAAKS,GAAS+jB,MAAM,SAACjsB,GAAD,OAASurB,GAAWjL,SAAStgB,KAC3D,OAAOM,QAAQ5B,MACb,eACA,4CACA6sB,IAGJzI,EAAM5a,QAAN7N,OAAA4V,EAAA,KAAA5V,IACKyoB,EAAM5a,QACNA,IAGPgkB,SAjCgB,SAiCPpJ,EAAO/P,GACd+P,EAAM/P,MAAQA,GAEhBoZ,cApCgB,SAoCFrJ,EAAOnW,GACnBmW,EAAMnW,WAAaA,GAErBwd,WAvCgB,SAuCLrH,EAAOpjB,GAChBojB,EAAMla,UAAYlJ,GAEpB4qB,YA1CgB,SA0CJxH,EAAOnT,GACjBmT,EAAMnT,SAAWA,GAEnBkZ,YA7CgB,SA6CJ/F,EAAOpjB,GACjBojB,EAAM6D,SAAWjnB,IAIrB0sB,IACEzB,YAAY,EACZ7H,MAAA0I,GACApC,QAAAqC,GACApC,QAAAwC,GACA3B,UAAA6B,ICnJIM,IACJ5c,SACA7G,WAAW,GAGP0jB,MAGAC,IACJtb,UADc,SAAA5J,EACqBmlB,GAAO,IAA9B/C,EAA8BpiB,EAA9BoiB,OAAQG,EAAsBviB,EAAtBuiB,YAClB,OAAK4C,GACLtB,GAAYsB,EAEZ/C,EAAO,cAAc,GACdG,EAAY,WAChB3Y,UAAUub,GACV3uB,KAAK,SAAC4R,GAQL,OAPAnP,QAAQmO,IAAI,QAASgB,GACjByb,KAAcsB,GAChB/C,EAAO,cAAc,GACrBA,EAAO,WAAYha,IAEnBnP,QAAQmO,IAAI,qBAEPgB,IAER3I,MAAM,SAAC6O,GACNrV,QAAQ5B,MAAMiX,GACd8T,EAAO,cAAc,MAlBNA,EAAO,iBAuBxBgD,IACJC,SADgB,SACP5J,EAAOrT,GACdqT,EAAMrT,MAAQA,GAEhB0a,WAJgB,SAILrH,EAAOpjB,GAChBojB,EAAMla,UAAYlJ,IAItBitB,IACEhC,YAAY,EACZ7H,MAAAuJ,GACAjD,QAAAkD,GACAjD,QAAAkD,GACArC,UAAAuC,IC/CIG,IACJ5pB,WAAY,YAGR6pB,IACJnR,cADgB,SACFoH,EAAOpjB,GACnBojB,EAAM9f,WAAatD,IAIvBotB,IACEnC,YAAY,EACZ7H,MAAA8J,GACA1C,UAAA2C,ICXIE,GAAe1yB,OAAOoN,KAAKgT,IAC3BuS,GAAa,KACnB,IAAKD,GAAazM,SAAS0M,IACzB,MAAM,IAAItvB,MAAM,yBAGlB,IAAMuvB,MAEAC,IACJjuB,KAAM+tB,GACN1gB,cAAc,GAGV6gB,IACJpK,IADc,SAAA1b,GACA,IAARpI,EAAQoI,EAARpI,KACJ,OAAOwb,GAAKxb,IAEduN,KAJc,SAAAwC,GAIC,IAAR/P,EAAQ+P,EAAR/P,KACL,OAAOub,GAAQvb,KAIbmuB,IACJC,OADgB,SACTvK,EAAOpjB,GACZojB,EAAM7jB,KAAOS,GAEf4tB,gBAJgB,SAIAxK,EAAOpjB,GACrBojB,EAAMxW,aAAe5M,IAInB6tB,IACJC,QADc,SAAA5d,GACa,IAAjB6Z,EAAiB7Z,EAAjB6Z,OAAQ3G,EAASlT,EAATkT,MAChBxiB,QAAQmtB,KAAK,eAAgB3K,EAAM7jB,MACnCwqB,EAAO,mBAAmB,GAC1BhP,GAAKqI,EAAM7jB,MACRqG,OACAzH,KAAK,WACJ4rB,EAAO,mBAAmB,GAC1BwD,GAAgB7yB,KAAK0oB,EAAM7jB,QAE5B6H,MAAM,SAAC6O,GACNrV,QAAQ5B,MAAM,YAAaiX,GAC3B8T,EAAO,mBAAmB,MAGhCd,UAfc,SAAAtU,GAeyB,IAA3ByO,EAA2BzO,EAA3ByO,MAAO2G,EAAoBpV,EAApBoV,OAAQC,EAAYrV,EAAZqV,SACnBgE,EAAeX,GAAaY,QAAQ7K,EAAM7jB,MAC1C2uB,GAAaF,EAAe,GAAKX,GAAa7yB,OAC9CgnB,EAAU6L,GAAaa,GACvBC,EAAgBZ,GAAgB3M,SAASY,GAE/CuI,EAAO,SAAUvI,GACjBuI,EAAO,cAAe,MAAQqE,MAAM,IACpCrE,EAAO,qBAAwBqE,MAAM,IAChCD,GAAenE,EAAS,aAIjCqE,IACEpD,YAAY,EACZ7H,MAAAoK,GACA9D,QAAA+D,GACAjD,UAAAkD,GACA/D,QAAAkE,ICvDFS,EAAA,KAAIC,IAAI1R,EAAA,MACR,IAAM2R,GAAY,IAAIC,GAAA1J,GACpB2J,QAAS5tB,OAAO6tB,aAChBC,QAAS,SAACxL,GAAD,OACP/P,MAAO+P,EAAM/P,MACbgQ,IAAKD,EAAMC,eAIIxG,EAAA,KAAKgS,OACtBC,QAAQ,EACR1L,OACEtG,gBAAiB,KACjB3B,oBAAoB,EACpBU,uBAAuB,GAEzB6N,WACAc,WACEuE,cADS,SACK3L,EAAOtH,GACnBsH,EAAMtG,gBAAkBhB,GAE1BH,sBAJS,SAIayH,EAAOpjB,GAC3BojB,EAAMjI,mBAAqBnb,GAE7BgvB,yBAPS,SAOgB5L,EAAOpjB,GAC9BojB,EAAMvH,sBAAwB7b,IAGlC2pB,SACE9H,kBADO,SAAAla,EAC8BpG,GAAM,IAAvBwoB,EAAuBpiB,EAAvBoiB,OAAQ3G,EAAezb,EAAfyb,MAC1B,GAAuB,OAAnBA,EAAMC,IAAI9jB,OAAkBgC,EAAK0tB,iBAEnC,OADAruB,QAAQmO,IAAI,sBAAuB,yBAC5BtS,QAAQC,UAEjBqtB,EAAO,yBAAyB,GAChCA,EAAO,4BAA4B,GACnChP,GAAKhZ,GAAG+S,iBAAiBvT,EAAK0tB,iBAAiBC,KAC5C/wB,KAAK,SAACqQ,GACLub,EAAO,gBAAiBvb,GACxBub,EAAO,4BAA4B,KAEpC3iB,MAAM,SAAC6O,GACNrV,QAAQ5B,MAAM,sBAAuBiX,GACrC8T,EAAO,4BAA4B,OAI3ChvB,SACEsoB,IAAAgL,GACAvO,QACAzM,MAAAqZ,GACA3c,MAAAkd,GACA/pB,KAAAkqB,IAEF+B,SAAUX,GAAUY,uBC5DpBz0B,OAAA00B,GAAA,KAAA10B,CAAA20B,UAAY,cAAZ,sBACEC,MADmD,WAEjD3uB,QAAQmO,IACN,uGAIJygB,OAPmD,WAQjD5uB,QAAQmO,IAAI,6CAEd0gB,QAVmD,WAWjD7uB,QAAQmO,IAAI,8CAEd2gB,QAbmD,WAcjD9uB,QAAQmO,IACN,kEAGJ/P,MAlBmD,SAkB7CA,GACJ4B,QAAQ5B,MAAM,4CAA6CA,iDCTjE2wB,GAAA,WAAQC,IACNC,GAAA,KACAA,GAAA,KACAA,GAAA,KACAA,GAAA,KACAA,GAAA,KACAA,GAAA,KACAA,GAAA,KACAA,GAAA,KACAA,GAAA,MAGFvB,EAAA,KAAI5kB,UAAU,eAAgBomB,GAAA,oBCjB9BxB,EAAA,KAAIyB,OAAOC,eAAgB,EAC3BC,GAAMjG,SAAS,eAEf,IAAIsE,EAAA,MACF2B,SACAC,OAAQ,SAACC,GAAD,OAAOA,EAAE7G,OAChB8G,OAAO,sEChBocluB,EAAA,WAAAmuB,EAAA,0BCC9cj0B,EAAAD,SAAkB4H,gBAAA,wCAAAM,SAAA,iCAAAL,QAAA,+FCDkb9B,EAAA,WAAAouB,EAAA,gECAWpuB,EAAA,WAAAquB,EAAA,0BCC/cn0B,EAAAD,SAAkB+G,KAAA,kBAAA2kB,IAAA,iBAAAC,SAAA,sBAAAE,UAAA,uBAAAwI,OAAA,oBAAAvI,YAAA,yBAAAC,KAAA,kBAAAG,YAAA,yBAAAD,WAAA,wECAlBhsB,EAAAD,SAAkBsQ,YAAA,gCAAAC,KAAA,yBAAA/D,QAAA,4BAAAsE,WAAA,sDCAlB7Q,EAAAD,SAAkB+e,eAAA,sCAAAlQ,QAAA,+BAAAoQ,OAAA,8BAAAC,QAAA,+BAAAC,SAAA,gCAAAM,YAAA,mCAAAG,QAAA,+BAAAE,SAAA,gCAAAxV,KAAA,4BAAA4V,YAAA,mCAAAC,QAAA,+BAAAH,WAAA,kCAAAI,SAAA,gCAAAE,SAAA,gCAAAC,UAAA,8FCDybxa,EAAA,WAAAuuB,EAAA,wBCC3cr0B,EAAAD,SAAkBgoB,YAAA,gCAAAjS,OAAA,2BAAA8Q,MAAA,0BAAA0B,cAAA,kCAAAC,WAAA","file":"js/app-legacy.4a04eb91.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \"-legacy.\" + {\"chunk-4c1e\":\"01206284\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-4c1e\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-4c1e\":\"d1075188\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.request = request;\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar head = document.getElementsByTagName('head')[0];\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\tvar error = new Error('Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')');\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\thead.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/rasmus2.0/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DigitalClock.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DigitalClock.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tripsTable\":\"TripsTable_tripsTable_seMaN\",\"showingJourneyDetails\":\"TripsTable_showingJourneyDetails_2vlip\",\"table\":\"TripsTable_table_2aCjV\",\"tableHead\":\"TripsTable_tableHead_35rh1\",\"trip\":\"TripsTable_trip_3L8k2\",\"tripLine\":\"TripsTable_tripLine_1UetD\",\"cancelled\":\"TripsTable_cancelled_2B1S9\",\"tripName\":\"TripsTable_tripName_1S77x\",\"tripTime\":\"TripsTable_tripTime_MCuJO\",\"tripNewTime\":\"TripsTable_tripNewTime_1TU8j\",\"isLate\":\"TripsTable_isLate_332Tg\",\"tripTrack\":\"TripsTable_tripTrack_hi4oT\",\"VT\":\"TripsTable_VT_zu_SE\",\"TV\":\"TripsTable_TV_1mpPl\",\"SL\":\"TripsTable_SL_1kF6p\"};","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/index.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TripsFilter.vue?vue&type=style&index=0&module=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/index.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TripsFilter.vue?vue&type=style&index=0&module=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocationInput.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocationInput.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/index.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TripsTable.vue?vue&type=style&index=0&module=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/index.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TripsTable.vue?vue&type=style&index=0&module=true&lang=css&\"","/* globals gapi */\n\nconst CLIENT_ID =\n  '499673240843-8f8bn77590948esm040d5cl5s4k32hkq.apps.googleusercontent.com';\nconst API_KEY = 'AIzaSyAQVyCYvuXOxLcIMlT68G-ELLSxMVDqDGc';\nconst DISCOVERY_DOCS = [\n  'https://www.googleapis.com/discovery/v1/apis/drive/v3/rest'\n];\nconst SCOPES = [\n  'https://www.googleapis.com/auth/drive',\n  'https://www.googleapis.com/auth/drive.file',\n  'https://www.googleapis.com/auth/drive.readonly',\n  'https://www.googleapis.com/auth/drive.metadata.readonly'\n].join(' ');\nconst sweToVTLingo = {\n  Datum: 'date',\n  Hållplats: 'origin',\n  Linje: 'sname',\n  Namn: 'direction',\n  Tid: 'time',\n  'Ny tid': 'rtTime',\n  Läge: 'track',\n  Bakgrund: 'fgColor'\n};\nconst files = {\n  infoDoc: {\n    fileId: '1TRE1P4EmB3kwlURit8lICniBtRp7aqnhcU8x7D6yzqI',\n    mimeType: 'text/html'\n  },\n  manualDepartures: {\n    fileId: '1XSzg87FgHsxUl6UqNfRJtYIkw8wyN0yB3RzIib3JsvM',\n    mimeType: 'text/tab-separated-values'\n  }\n};\n\nlet initialized = false;\nasync function init() {\n  if (initialized) return;\n  const script = document.createElement('script');\n  script.addEventListener('load', () => {\n    initialized = true;\n    gapi.load('client:auth2', initClient);\n  });\n  script.src = 'https://apis.google.com/js/api.js';\n  document.body.appendChild(script);\n}\n\n/**\n *  Initializes the API client library and sets up sign-in state\n *  listeners.\n */\nlet resolveGooglePromise;\nlet rejectGooglePromise;\nconst googleInitPromise = new Promise((resolve, reject) => {\n  resolveGooglePromise = resolve;\n  rejectGooglePromise = reject;\n}).then(() => {\n  // Listen for sign-in state changes.\n  // gapi.auth2.getAuthInstance().isSignedIn.listen(updateSigninStatus);\n  // Handle the initial sign-in state.\n  if (gapi.auth2.getAuthInstance().isSignedIn.get()) {\n    return gapi.auth2.getAuthInstance().signIn();\n  }\n});\n\nfunction initClient() {\n  gapi.client\n    .init({\n      apiKey: API_KEY,\n      clientId: CLIENT_ID,\n      discoveryDocs: DISCOVERY_DOCS,\n      scope: SCOPES\n    })\n    .then(resolveGooglePromise)\n    .catch(rejectGooglePromise);\n}\n\nfunction printInfoDoc(elementId) {\n  return googleInitPromise.then(() =>\n    getFile(files.infoDoc)\n      .then((response) => printFile(response, elementId))\n      .catch((e) => console.error(e))\n  );\n}\n\nfunction getManualDepartures() {\n  return googleInitPromise.then(() =>\n    getFile(files.manualDepartures)\n      .then(({ body }) => body)\n      .then((csv) => {\n        const rows = csv.split(/\\n/);\n        const keys = rows[0].replace(/\\n|\\r/g, '').split(/\\t/);\n        return rows.slice(1).map((row) => {\n          const values = row.split(/\\t/);\n          return keys.reduce((res, curr, idx) => {\n            const key = sweToVTLingo[curr] || curr;\n            res[key] = values[idx];\n            return res;\n          }, {});\n        });\n      })\n  );\n}\n\n/**\n *  Called when the signed in status changes, to update the UI\n *  appropriately. After a sign-in, the API is called.\n */\n// function updateSigninStatus(isSignedIn) {\n//   if (isSignedIn) {\n//   } else {\n//     gapi.auth2\n//       .getAuthInstance()\n//       .signIn()\n//       .then(() => console.log(\"signed in\"));\n//   }\n// }\n\n/**\n * getFile\n */\nfunction getFile(options) {\n  return gapi.client.drive.files.export(options);\n}\n\n/**\n * Print file\n */\nfunction printFile(response, elementId) {\n  const content = response.body.match(/<body[^>]*>(.*)<\\/body><\\/html>$/)[1];\n  const doc = document.getElementById(elementId);\n  doc.innerHTML = content;\n}\n\nexport default {\n  init,\n  printInfoDoc,\n  getManualDepartures\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"top-nav\"},[_c('Tabs',{attrs:{\"tabs\":_vm.tabs,\"on-click\":_vm.changeTab,\"current-tab\":_vm.currentTab}}),_c('DigitalClock')],1),_c('div',{staticClass:\"container\"},[_c(_vm.currentTabComponent.componentName,_vm._b({tag:\"component\"},'component',_vm.currentTabComponent.props,false))],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{class:_vm.$style.informationPage},[(_vm.isLoading)?_c('font-awesome',{class:_vm.$style.spinner,attrs:{\"icon\":\"spinner\",\"spin\":\"\"}}):_vm._e(),_c('div',{attrs:{\"id\":_vm.gdocElementId}}),_c('a',{class:_vm.$style.editLink,attrs:{\"href\":_vm.editLink}},[_vm._v(\"Redigera\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section :class=\"$style.informationPage\">\n    <font-awesome\n      v-if=\"isLoading\"\n      :class=\"$style.spinner\"\n      icon=\"spinner\"\n      spin/>\n    <div :id=\"gdocElementId\" />\n    <a\n      :href=\"editLink\"\n      :class=\"$style.editLink\">Redigera</a>\n  </section>\n</template>\n<script>\nimport googleDrive from '../api/googleDrive';\n\nconst editLink =\n  'https://docs.google.com/document/d/1TRE1P4EmB3kwlURit8lICniBtRp7aqnhcU8x7D6yzqI/edit#';\n\nexport default {\n  name: 'InformationPage',\n  data() {\n    return {\n      isLoading: true,\n      gdocElementId: 'gdoc',\n      editLink\n    };\n  },\n  mounted() {\n    googleDrive.init();\n    googleDrive\n      .printInfoDoc(this.gdocElementId)\n      .then(() => (this.isLoading = false))\n      .catch(() => (this.isLoading = false));\n  }\n};\n</script>\n<style module>\n.informationPage {\n  height: 100%;\n  padding: 1em;\n  position: relative;\n}\n.editLink {\n  color: whitesmoke;\n  font-size: smaller;\n  position: absolute;\n  bottom: 1em;\n  left: 1em;\n}\n.spinner {\n  font-size: 5vw;\n  position: absolute;\n  left: calc(50% - 2.5vw);\n  top: calc(50% - 2.5vw);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InformationPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InformationPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InformationPage.vue?vue&type=template&id=5a788518&\"\nimport script from \"./InformationPage.vue?vue&type=script&lang=js&\"\nexport * from \"./InformationPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InformationPage.vue?vue&type=style&index=0&module=true&lang=css&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"InformationPage.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"digital-clock\"},[_vm._v(\"\\n  \"+_vm._s(_vm.hours)+\":\"+_vm._s(_vm.minutes)+\":\"+_vm._s(_vm.seconds)+\"\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function debounce(fn, delay, context) {\n  let timeoutId;\n  context = context || this;\n  return (...args) => {\n    if (timeoutId) clearTimeout(timeoutId);\n    timeoutId = setTimeout(() => fn.apply(context, args), delay);\n  };\n}\n","export default function isVisibleInDOM(el) {\n  return window.getComputedStyle(el).display !== 'none';\n}\n","<template>\n  <div class=\"digital-clock\">\n    {{ hours }}:{{ minutes }}:{{ seconds }}\n  </div>\n</template>\n<script>\nimport debounce from '../util/debounce';\nimport isVisibleInDOM from '../util/isVisibleInDOM';\n\nexport default {\n  name: 'DigitalClock',\n  data() {\n    return {\n      intervalId: null,\n      hours: '',\n      minutes: '',\n      seconds: ''\n    };\n  },\n  created() {\n    this.handleResize = debounce(this.handleResize, 250);\n  },\n  mounted() {\n    this.updateDateTime();\n    this.startInterval();\n    this.handleResize();\n    window.addEventListener('resize', this.handleResize, false);\n  },\n  beforeDestroy() {\n    this.stopInterval();\n    window.removeEventListener('resize', this.handleResize, false);\n  },\n  methods: {\n    handleResize() {\n      if (isVisibleInDOM(this.$el)) {\n        this.startInterval();\n      } else {\n        this.stopInterval();\n      }\n    },\n    startInterval() {\n      this.stopInterval();\n      this.intervalId = setInterval(this.updateDateTime, 1000);\n    },\n    stopInterval() {\n      clearInterval(this.intervalId);\n    },\n    updateDateTime() {\n      const now = new Date();\n      this.hours = String(now.getHours()).padStart(2, '0');\n      this.minutes = String(now.getMinutes()).padStart(2, '0');\n      this.seconds = String(now.getSeconds()).padStart(2, '0');\n    }\n  }\n};\n</script>\n<style>\n.digital-clock {\n  background: var(--brand-color);\n  color: var(--brand-text-color-dim);\n  flex: 1;\n  display: none;\n  align-items: center;\n  justify-content: flex-end;\n  font-family: monospace;\n  font-size: 1.2em;\n  font-weight: bold;\n  padding: 0.5em 1em;\n}\n@media (min-width: 450px) {\n  .digital-clock {\n    display: flex;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DigitalClock.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DigitalClock.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DigitalClock.vue?vue&type=template&id=dbae24fa&\"\nimport script from \"./DigitalClock.vue?vue&type=script&lang=js&\"\nexport * from \"./DigitalClock.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DigitalClock.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"DigitalClock.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{class:_vm.$style.stationInfo},[_c('div',{class:_vm.$style.form},[_c('LocationInput',{attrs:{\"disabled\":_vm.initializing,\"label\":\"Hållplats\"}})],1),(_vm.location)?_c('TripsFilter',{attrs:{\"dict\":_vm.dict}}):_vm._e(),_c('div',{class:_vm.$style.content},[_c('TripsTable',{attrs:{\"from-to-label\":_vm.fromToLabel}}),_c('JourneyDetails')],1),(_vm.location)?_c('footer',{class:_vm.$style.situations},[_vm._l((_vm.situations.messages),function(msg,index){return _c('p',{key:index},[_vm._v(_vm._s(msg))])}),(_vm.situations.messages.length === 0)?_c('p',[_vm._v(\"Inga trafikstörningar.\")]):_vm._e()],2):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const auth = '<LOGIN authenticationkey=\"2dfa6ea579bd45e3ac3810eb1a97adb6\" />';\nconst stationMap = {};\n\nconst api = {\n  TrainStation({ lat, long, name } = {}, radius = 500) {\n    // station close to\n    if (name) {\n      return `\n        <FILTER>\n          <AND>\n            <LIKE name=\"AdvertisedLocationName\" value=\"/^${name}/\" />\n            <EQ name=\"Advertised\" value=\"true\" />\n          </AND>\n        </FILTER>\n      `;\n    }\n\n    if (lat && long) {\n      return `\n        <FILTER>\n          <AND>\n            <WITHIN name=\"Geometry.WGS84\" shape=\"center\" value=\"${long} ${lat}\" radius=\"${radius}m\" />\n            <EQ name=\"Advertised\" value=\"true\" />\n          </AND>\n        </FILTER>\n      `;\n    }\n\n    return '<FILTER />';\n  },\n  TrainMessage(station) {\n    // message at station\n    return `\n      <FILTER>\n        <EQ name=\"AffectedLocation\" value=\"${station}\" />\n      </FILTER>\n    `;\n  },\n  TrainAnnouncement(station) {\n    // departures at station\n    return `\n      <FILTER>\n        <AND>\n          <EQ name=\"Advertised\" value=\"true\" />\n          <EQ name=\"ActivityType\" value=\"Avgang\" />\n          <EQ name=\"LocationSignature\" value=\"${station}\" />\n          <GT name=\"AdvertisedTimeAtLocation\" value=\"$dateadd(00:00:00)\" />\n          <LT name=\"AdvertisedTimeAtLocation\" value=\"$dateadd(05:00:00)\" />\n        </AND>\n      </FILTER>\n    `;\n  }\n};\n\nfunction tvApiRequest(objectType, ...args) {\n  return fetch('https://api.trafikinfo.trafikverket.se/v1.3/data.json', {\n    body: `\n      <REQUEST>\n        ${auth}\n        <QUERY objecttype=\"${objectType}\" ${\n      objectType === 'TrainAnnouncement'\n        ? 'orderby=\"AdvertisedTimeAtLocation\"'\n        : ''\n    }>\n          ${api[objectType](...args)}\n        </QUERY>\n      </REQUEST>\n    `,\n    method: 'POST',\n    mode: 'cors',\n    headers: {\n      'Content-Type': 'text/xml'\n    }\n  })\n    .then((resp) => {\n      const jsonPromise = resp.json().then((json) => json.RESPONSE.RESULT);\n      if (resp.ok) return jsonPromise;\n      return jsonPromise.then((err) => Promise.reject(err));\n    })\n    .then((json) => json[0][objectType] || [])\n    .catch((err) => console.error(err));\n}\n\nfunction logMiddleware(resp) {\n  console.log(resp || 'No results');\n  return resp;\n}\n\nfunction transformStation(station) {\n  return Object.assign({}, station, {\n    name: station.AdvertisedLocationName,\n    id: station.LocationSignature,\n    region: 'TV'\n  });\n}\n\nfunction getClosestStops({ lat, lng }) {\n  return tvApiRequest('TrainStation', { lat, long: lng }, 5000).then(\n    (response) => response.slice(0, 5).map(transformStation)\n  );\n}\n\nexport default {\n  init() {\n    return tvApiRequest('TrainStation').then((stations) =>\n      stations.forEach((station) => {\n        stationMap[station.LocationSignature] = station.AdvertisedLocationName;\n      })\n    );\n  },\n  getClosestStops,\n  getClosestStop(pos) {\n    return getClosestStops(pos).then((stops) => stops[0]);\n  },\n  getTrafficSituations(location) {\n    return tvApiRequest('TrainMessage', location)\n      .then(logMiddleware)\n      .then((situations) => ({\n        messages: situations.map(\n          ({ ExternalDescription }) => ExternalDescription\n        )\n      }));\n  },\n  getDeparturesFrom(station) {\n    return tvApiRequest('TrainAnnouncement', station)\n      .then((resp) => (resp || []).slice(0, 30))\n      .then(logMiddleware)\n      .then((deps) =>\n        deps.map((dep) => ({\n          ...dep,\n          id: dep.ActivityId,\n          direction:\n            dep.ToLocation &&\n            (stationMap[dep.ToLocation[0].LocationName] || ''),\n          via:\n            dep.ViaToLocation &&\n            (stationMap[dep.ViaToLocation[0].LocationName] || ''),\n          name: `${dep.ProductInformation.join(' ')}`,\n          time: dep.AdvertisedTimeAtLocation.substr(-8, 5),\n          timestamp: new Date(dep.AdvertisedTimeAtLocation).getTime(),\n          isLate: false,\n          track: dep.TrackAtLocation,\n          sname: dep.ProductInformation[0]\n        }))\n      );\n  },\n  findStops(name) {\n    return tvApiRequest('TrainStation', { name }).then((stations) =>\n      stations.slice(0, 15).map(transformStation)\n    );\n  },\n  stationMap\n};\n","const travelPlanner = 'https://api.vasttrafik.se/bin/rest.exe/v2';\nconst trafficSituations = 'https://api.vasttrafik.se/ts/v1/traffic-situations';\nlet authToken;\nlet expDate;\n\nfunction getTrafficSituations(gid, method) {\n  const url = method\n    ? `${trafficSituations}/${method}/${gid}`\n    : trafficSituations;\n  return anropaVasttrafik(url, { Accept: 'application/json' }).then(\n    (situations) =>\n      situations.reduce(\n        (res, { title, description, affectedLines }) => ({\n          messages: res.messages.concat(`${title} ${description}`),\n          affectedLines: []\n            .concat(\n              res.affectedLines,\n              affectedLines.map(({ designation }) => designation)\n            )\n            .filter((x) => x)\n        }),\n        { messages: [] }\n      )\n  );\n}\n\nfunction getTripSuggestion(from, dest) {\n  const now = new Date();\n  const date = now.toISOString().substr(0, 10);\n  const time = now.toLocaleTimeString().substr(0, 5);\n  const tripUrl = `${travelPlanner}/trip?originId=${from}&destId=${dest}&date=${date}&time=${time}&format=json`;\n  return anropaVasttrafik(tripUrl).then((json) =>\n    asArray(json.TripList.Trip).map((trip) => asArray(trip.Leg))\n  );\n}\n\nfunction findStops(text) {\n  const requestUrl = `${travelPlanner}/location.name?input=${encodeURIComponent(\n    text\n  )}&format=json`;\n  return anropaVasttrafik(requestUrl)\n    .then((json) => asArray(json.LocationList.StopLocation).slice(0, 5))\n    .then((stops) =>\n      stops.map((stop) =>\n        Object.assign({}, stop, {\n          region: 'VT'\n        })\n      )\n    );\n}\n\nfunction transformTrips(trips) {\n  return trips.map((trip) => {\n    const isLate = trip.rtTime && trip.rtTime !== trip.time;\n    const time = trip.rtTime || trip.time;\n    const date = trip.rtDate || trip.date;\n    const timestamp = new Date(`${date}T${time}`).getTime();\n    // const journeyDetail = await anropaVasttrafik(trip.JourneyDetailRef.ref);\n    return Object.assign({}, trip, {\n      region: 'VT',\n      cancelled: Boolean(trip.cancelled),\n      isLate,\n      timestamp\n    });\n  });\n}\n\nfunction getArrivalsTo(id, timeSpan) {\n  const now = new Date();\n  const date = now.toISOString().substr(0, 10);\n  const time = now.toLocaleTimeString().substr(0, 5);\n  let requestUrl = `${travelPlanner}/arrivalBoard?id=${encodeURIComponent(\n    id\n  )}&date=${encodeURIComponent(date)}&time=${encodeURIComponent(\n    time\n  )}&format=json`;\n  if (timeSpan) {\n    requestUrl = `${requestUrl}&timeSpan=${timeSpan}`;\n  }\n  return getTimeTable(id, requestUrl)\n    .then((json) => json.ArrivalBoard.Arrival)\n    .then(transformTrips);\n}\n\nfunction getDeparturesFrom(id, timeSpan) {\n  let requestUrl = `${travelPlanner}/departureBoard?id=${encodeURIComponent(\n    id\n  )}&format=json`;\n  if (timeSpan) {\n    requestUrl = `${requestUrl}&timeSpan=${timeSpan}`;\n  }\n  return (\n    getTimeTable(id, requestUrl)\n      .then((json) => json.DepartureBoard.Departure || [])\n      // .then(filterSimilar)\n      .then(transformTrips)\n  );\n}\n\nfunction getTimeTable(id, requestUrl) {\n  return anropaVasttrafik(requestUrl).then((res) => {\n    const { error, errorText } = res;\n    if (error || errorText) {\n      console.error('[getTimeTable]', error || errorText);\n    }\n    return res;\n  });\n}\n\nfunction getLiveMap({ south, west, north, east }) {\n  const getWGS84 = (coord) => Math.round(coord * 1000000);\n  const url = `${travelPlanner}/livemap?minx=${getWGS84(west)}&miny=${getWGS84(\n    south\n  )}&maxx=${getWGS84(east)}&maxy=${getWGS84(north)}&onlyRealtime=yes`;\n  return anropaVasttrafik(url).then(({ livemap }) => livemap.vehicles);\n}\n\nfunction getJourneyDetail(url) {\n  return anropaVasttrafik(url).then(({ JourneyDetail }) => JourneyDetail);\n}\n\nfunction getGeometry(url) {\n  return anropaVasttrafik(url).then(({ Geometry }) => Geometry);\n}\n\nfunction anropaVasttrafik(url, userHeaders) {\n  const accessTokenPromise = Promise.resolve();\n  const headers = {\n    ...userHeaders,\n    Authorization: `Bearer ${authToken}`\n  };\n\n  if (!expDate || expDate.getTime() < Date.now()) {\n    console.log('Need to update authtoken');\n    accessTokenPromise.then(getAccessToken);\n  }\n\n  return accessTokenPromise\n    .then(() => fetch(url, { headers }))\n    .then(fetchMiddleware);\n}\n\nfunction getClosestStops({ lat, lng }, limit = 5, retry = true) {\n  const url = `${travelPlanner}/location.nearbystops?originCoordLat=${lat}&originCoordLong=${lng}&maxNo=${limit *\n    2}&format=json`;\n  return anropaVasttrafik(url)\n    .then((json) => {\n      if (json.LocationList.errorText) {\n        throw new Error(json.LocationList.errorText);\n      }\n\n      if (!json.LocationList.StopLocation) {\n        return [];\n      }\n\n      return json.LocationList.StopLocation.filter(({ name }, index, self) => {\n        const firstMatch = self.findIndex((stop) => stop.name === name);\n        return firstMatch === index;\n      })\n        .map((stop) => ({\n          ...stop,\n          region: 'VT'\n        }))\n        .slice(0, limit);\n    })\n    .catch((reason) => {\n      if (retry) {\n        console.error('[getClosestStops]:', reason, 'retrying');\n        getClosestStops({ lat, lng }, limit, false);\n      } else {\n        console.error('[getClosestStops]', reason);\n        throw reason;\n      }\n    });\n}\n\nfunction getAccessToken() {\n  return fetch('https://api.vasttrafik.se:443/token', {\n    headers: {\n      Authorization:\n        'Basic b1pZclV2c1ZGTG8zZ2FSemNaS0NUbEdJX21ZYTo4bTlLNnFsaDVNQXBWRFdRYlVWSUhneWZja3dh',\n      'Content-Type': 'application/x-www-form-urlencoded'\n    },\n    method: 'POST',\n    body: 'grant_type=client_credentials'\n  })\n    .then(fetchMiddleware)\n    .then((resp) => {\n      authToken = resp.access_token;\n      expDate = new Date(Date.now() + resp.expires_in * 1000);\n      console.log(`AuthToken expires ${expDate.toLocaleString()}`);\n      return resp.access_token;\n    });\n}\n\nfunction fetchMiddleware(response) {\n  if (response.ok) return response.json();\n  return response.json().then((err) => Promise.reject(err));\n}\n\nfunction asArray(arg) {\n  return arg ? [].concat(arg) : [];\n}\n\nconst authTokenPromise = getAccessToken();\n\nfunction init() {\n  return authTokenPromise;\n}\n\nexport default {\n  init,\n  getClosestStop: (pos) => getClosestStops(pos, 1),\n  getClosestStops,\n  findStops,\n  getGeometry,\n  getJourneyDetail,\n  getTripSuggestion,\n  getDeparturesFrom,\n  getArrivalsTo,\n  getTrafficSituations,\n  getLiveMap,\n  transformTrips\n};\n","const baseUrl = 'http://api.sl.se/api2';\nconst fetchOptions = {\n  method: 'GET'\n};\n\nconst lineNumberColors = {\n  '7': 'gray',\n  '10': '#1C7F2A', // blue\n  '11': '#1C7F2A',\n  '12': 'gray',\n  '13': '#D51427', // red\n  '14': '#D51427',\n  '17': '#60A42B', // green\n  '18': '#60A42B',\n  '19': '#60A42B',\n  '21': 'brown',\n  '22': 'orange',\n  '25': 'turquoise',\n  '26': 'turquoise',\n  '27': 'purple',\n  '28': 'purple',\n  '29': 'purple',\n  '40': 'pink',\n  '41': 'pink',\n  '42': 'pink',\n  '43': 'pink',\n  '44': 'pink',\n  '45': 'pink',\n  '48': 'pink'\n};\nfunction getColorFromLineNo(lineNo) {\n  return lineNumberColors[lineNo] || '#A4A5A7'; // gray\n}\n\nfunction transformStop(stop) {\n  return {\n    ...stop,\n    HafasId: stop.id,\n    id: stop.id.substr(-4),\n    region: 'SL'\n  };\n}\n\nfunction getClosestStops({ lat, lng }, limit = 5) {\n  const key = 'bf8e1f49392843a19e86ef1ccbaa15a0';\n  const url = `nearbystops.json?key=${key}&originCoordLat=${lat}&originCoordLong=${lng}&maxresults=${limit}`;\n  return makeRequest(url).then((json) => {\n    const stops = Array.from(json.LocationList.StopLocation);\n    return stops.map(transformStop);\n  });\n}\n\nfunction getClosestStop(pos) {\n  return getClosestStops(pos, 1)[0];\n}\n\nfunction findStops(term) {\n  const key = '76ea4bd8c1014b6490418de04bfd0b32';\n  const url = `typeahead.json?key=${key}&searchstring=${encodeURIComponent(\n    term\n  )}&maxresults=5`;\n  return makeRequest(url)\n    .then((json) => asArray(json.ResponseData))\n    .then((stops) =>\n      stops\n        .filter((stop, idx) => {\n          const firstIndex = stops.findIndex(\n            ({ SiteId }) => SiteId === stop.SiteId\n          );\n          return firstIndex >= idx;\n        })\n        .slice(0, 5)\n        .map((stop) => ({\n          ...stop,\n          name: stop.Name,\n          id: stop.SiteId,\n          region: 'SL'\n        }))\n    );\n}\n\nconst vehicules = {\n  BUS: 'Buss',\n  METRO: 'T-bana',\n  SHIP: 'Båt',\n  TRAIN: 'Tåg',\n  TRAM: 'Spårvagn'\n};\nfunction vehicule(key) {\n  return vehicules[key] || key;\n}\n\nfunction getDeparturesFrom(siteId) {\n  const key = 'a312919085a9447d839109b9a6880d20';\n  const url = `realtimedeparturesV4.json?key=${key}&siteid=${siteId}&timewindow=30`;\n  return makeRequest(url).then((json) =>\n    [\n      ...json.ResponseData.Buses,\n      ...json.ResponseData.Metros,\n      ...json.ResponseData.Ships,\n      ...json.ResponseData.Trains,\n      ...json.ResponseData.Trams\n    ].map((trip) => ({\n      ...trip,\n      fgColor: getColorFromLineNo(trip.LineNumber),\n      bgColor: 'white',\n      direction: trip.Destination,\n      timestamp: new Date(\n        trip.ExpectedDateTime || trip.TimeTabledDateTime\n      ).getTime(),\n      time: trip.TimeTabledDateTime.substr(11, 5),\n      rtTime: trip.ExpectedDateTime.substr(11, 5),\n      name: `${vehicule(trip.TransportMode)} ${trip.LineNumber}`,\n      sname: trip.LineNumber,\n      track: trip.StopPointDesignation || trip.JourneyDirection,\n      region: 'SL',\n      href: '#',\n      isLate: trip.TimeTabledDateTime !== trip.ExpectedDateTime\n    }))\n  );\n}\n\nfunction getTrafficSituations(siteId) {\n  const key = '367eaa6107874c6e86bd985872f9cd46';\n  const url = `deviations.json?key=${key}&siteId=${siteId}`;\n  return makeRequest(url)\n    .then((json) => asArray(json.ResponseData))\n    .then((json) => {\n      return {\n        messages: json.map(({ Details }) => Details)\n      };\n    });\n}\n\nfunction fetchMiddleware(response) {\n  if (response.ok && response.status !== 204) {\n    return response.json();\n  }\n\n  if (!response.ok) {\n    return response.json().then((err) => Promise.reject(err));\n  }\n\n  console.log('fetchMiddleware: not json and no error');\n  return response;\n}\n\nfunction asArray(arg) {\n  return (arg && [].concat(arg)) || [];\n}\n\nfunction makeRequest(path) {\n  const url = `${baseUrl}/${path}`;\n  const requestUrl = `https://request-proxy.herokuapp.com/?url=${encodeURIComponent(\n    url\n  )}`;\n  return fetch(requestUrl, fetchOptions)\n    .then(fetchMiddleware)\n    .catch((err) => console.error(err));\n}\n\nexport default {\n  getClosestStop,\n  getClosestStops,\n  getDeparturesFrom,\n  getTrafficSituations,\n  findStops,\n  init() {\n    return Promise.resolve();\n  }\n};\n","import TV from './trafikverket';\nimport VT from './vasttrafik';\nimport SL from './sl';\n\nexport const apiDict = {\n  TV: {\n    track: 'Spår',\n    sname: 'Anmärkn.'\n  },\n  VT: {\n    track: 'Läge',\n    sname: 'Linje'\n  },\n  SL: {\n    track: 'Läge',\n    sname: 'Linje'\n  }\n};\n\nexport default {\n  VT,\n  TV,\n  SL\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('aside',{class:[_vm.$style.journeyDetails, ( _obj = {}, _obj[_vm.$style.display] = _vm.showJourneyDetails, _obj )]},[_c('header',{class:_vm.$style.header},[_c('h2',{class:_vm.$style.heading},[_vm._v(\"Detaljer\")]),(_vm.loadingJourneyDetails)?_c('font-awesome',{attrs:{\"icon\":\"spinner\",\"spin\":\"\"}}):_vm._e(),_c('button',{class:_vm.$style.closeBtn,on:{\"click\":function($event){$event.preventDefault();_vm.setShowJourneyDetails(false)}}},[_vm._v(\"✗\")])],1),_c('p',{class:_vm.$style.journeyMeta},[(!_vm.loadingJourneyDetails)?_c('span',[_vm._v(\"\\n      \"+_vm._s(_vm.journey.name)+\" mot \"+_vm._s(_vm.journey.direction)+\"\\n    \")]):_vm._e(),_c('a',{class:_vm.$style.mapLink,attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.setCurrentTab('Karta')}}},[_vm._v(\"Visa på karta\")])]),(!_vm.loadingJourneyDetails)?_c('div',{class:_vm.$style.stopList},_vm._l((_vm.stops),function(stop){return _c('div',{key:stop.depTime + stop.name,class:[_vm.$style.stop, ( _obj = {}, _obj[_vm.$style.stopPassed] = stop.didPass, _obj )]},[_c('div',{class:_vm.$style.stopDotCell},[_c('div',{class:_vm.$style.stopDot})]),_c('div',{class:_vm.$style.stopTime},[_vm._v(\"\\n        \"+_vm._s(stop.rtDepTime || stop.depTime)+\"\\n      \")]),_c('div',{class:_vm.$style.stopName},[_vm._v(_vm._s(stop.name))]),_c('div',{class:_vm.$style.stopTrack},[_vm._v(_vm._s(stop.track))])])\nvar _obj;})):_vm._e()])\nvar _obj;}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <aside :class=\"[$style.journeyDetails, { [$style.display]: showJourneyDetails }]\">\n    <header :class=\"$style.header\">\n      <h2 :class=\"$style.heading\">Detaljer</h2>\n      <font-awesome\n        v-if=\"loadingJourneyDetails\"\n        icon=\"spinner\"\n        spin/>\n      <button\n        :class=\"$style.closeBtn\"\n        @click.prevent=\"setShowJourneyDetails(false)\">&cross;</button>\n    </header>\n    <p :class=\"$style.journeyMeta\">\n      <span v-if=\"!loadingJourneyDetails\">\n        {{ journey.name }} mot {{ journey.direction }}\n      </span>\n      <a \n        :class=\"$style.mapLink\" \n        href=\"#\" \n        @click.prevent=\"setCurrentTab('Karta')\">Visa på karta</a>\n    </p>\n    <div\n      :class=\"$style.stopList\"\n      v-if=\"!loadingJourneyDetails\">\n      <div\n        v-for=\"stop of stops\"\n        :key=\"stop.depTime + stop.name\"\n        :class=\"[$style.stop, { [$style.stopPassed]: stop.didPass }]\">\n        <div :class=\"$style.stopDotCell\"><div :class=\"$style.stopDot\"/></div>\n        <div :class=\"$style.stopTime\">\n          {{ stop.rtDepTime || stop.depTime }}\n        </div>\n        <div :class=\"$style.stopName\">{{ stop.name }}</div>\n        <div :class=\"$style.stopTrack\">{{ stop.track }}</div>\n      </div>\n    </div>\n  </aside>\n</template>\n<script>\nimport { mapState, mapMutations } from 'vuex';\n\nexport default {\n  name: 'JourneyDetails',\n  data() {\n    return {\n      now: Date.now(),\n      timeoutId: null\n    };\n  },\n  mounted() {\n    this.timeoutId = setInterval(() => {\n      this.now = Date.now();\n    }, 30000);\n  },\n  beforeDestroy() {\n    clearInterval(this.timeoutId);\n  },\n  computed: {\n    ...mapState([\n      'showJourneyDetails',\n      'loadingJourneyDetails',\n      'selectedJourney'\n    ]),\n    journey() {\n      const journey = this.selectedJourney;\n      if (!journey) return {};\n      const journeyDir = [].concat(journey.Direction);\n      return {\n        name: [].concat(journey.JourneyName)[0].name,\n        direction: journeyDir[journeyDir.length - 1].$\n      };\n    },\n    stops() {\n      const journey = this.selectedJourney;\n      if (!journey) return [];\n      return journey.Stop.map((stop) => {\n        const departed = new Date(`${stop.depDate}T${stop.depTime}`).getTime();\n        return {\n          ...stop,\n          didPass: departed < this.now\n        };\n      });\n    }\n  },\n  methods: {\n    ...mapMutations(['setShowJourneyDetails']),\n    ...mapMutations('tabs', ['setCurrentTab'])\n  }\n};\n</script>\n<style module>\n.journeyDetails {\n  background: white;\n  color: var(--dark-text-color);\n  display: none;\n  width: 100%;\n}\n.display {\n  display: block;\n}\n\n.header {\n  background: var(--brand-color);\n  border-left: 1px solid var(--brand-text-color);\n  color: var(--brand-text-color);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-left: 1em;\n}\n.heading {\n  font-size: 1em;\n  font-weight: bold;\n  margin: 0;\n}\n.closeBtn {\n  background: transparent;\n  border: none;\n  color: var(--brand-text-color);\n  cursor: pointer;\n  font-size: 1em;\n  padding: 0.5em 1em;\n}\n.journeyMeta {\n  color: var(--darker-text-color);\n  display: flex;\n  justify-content: space-between;\n  padding: 0 1em;\n}\n.mapLink {\n  color: var(--brand-color);\n  text-decoration: none;\n}\n.mapLink:hover {\n  text-decoration: underline;\n}\n\n.stopList {\n  margin-bottom: 2em;\n}\n.stop {\n  display: flex;\n  align-items: stretch;\n  line-height: 2em;\n  padding: 0 1em 0 0.5em;\n}\n.stop > div:not(:first-child) {\n  border-bottom: 1px solid lightgray;\n  padding: 0 0.5em;\n}\n.stop > div:last-child {\n  padding-right: 0;\n}\n.stop:last-child > div {\n  border-bottom: none;\n}\n\n.stopDotCell {\n  flex-shrink: 0;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0 0.5em;\n}\n.stopDot {\n  background: lightblue;\n  border-radius: 50%;\n  width: 8px;\n  height: 8px;\n}\n.stopDot:before,\n.stopDot:after {\n  background: lightblue;\n  display: block;\n  content: '';\n  width: 4px;\n  height: 50%;\n  position: absolute;\n  top: 0;\n  left: calc(50% - 2px);\n}\n.stopDot:after {\n  top: 50%;\n}\n.stop:first-child .stopDot:before {\n  height: 0;\n}\n.stop:last-child .stopDot:after {\n  height: 0;\n}\n.stopPassed .stopDot {\n  background: var(--brand-color);\n}\n.stopPassed .stopDot:before,\n.stopPassed .stopDot:after {\n  background: var(--brand-color);\n}\n\n.stopTime {\n  flex-basis: 60px;\n  flex-shrink: 0;\n}\n.stopName {\n  flex-grow: 1;\n  text-align: left;\n}\n.stopTrack {\n  text-align: right;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JourneyDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JourneyDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./JourneyDetails.vue?vue&type=template&id=14c53f10&\"\nimport script from \"./JourneyDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./JourneyDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./JourneyDetails.vue?vue&type=style&index=0&module=true&lang=css&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"JourneyDetails.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"location-input\",class:{ 'with-label': _vm.label },on:{\"focus\":_vm.showDropDown,\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"esc\",27,$event.key,\"Escape\")){ return null; }return _vm.hideDropDown($event)}}},[_c('label',[_vm._v(\"\\n    \"+_vm._s(_vm.label)+\":\\n    \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchText),expression:\"searchText\"}],attrs:{\"disabled\":_vm.disabled,\"type\":\"search\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.searchText)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.searchText=$event.target.value},_vm.onInput],\"focus\":_vm.showDropDown,\"blur\":_vm.possiblyHideDropDown,\"keyup\":[function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.selectFirstSuggestion($event)},_vm.handleKeyInput]}}),(_vm.isLoading)?_c('font-awesome',{staticClass:\"location-input__spinner\",attrs:{\"icon\":\"spinner\",\"spin\":\"\",\"aria-hidden\":\"true\"}}):_vm._e()],1),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"location-input__suggestions\"},[(_vm.showUseMyLocation)?_c('li',{staticClass:\"location-input__suggestion\",on:{\"keyup\":_vm.handleKeyInput}},[_c('button',{on:{\"click\":function($event){$event.preventDefault();return _vm.getNearbyStops($event)}}},[_c('font-awesome',{attrs:{\"icon\":\"crosshairs\"}}),_c('span',[_vm._v(\" \"+_vm._s(_vm.nearbyStopsMessage)+\" \")]),(_vm.isLoadingNearbyStops)?_c('font-awesome',{attrs:{\"icon\":\"spinner\",\"spin\":\"\"}}):_vm._e()],1)]):_vm._e(),_vm._l((_vm.nearbyStops),function(stop){return (_vm.showNearbyStops)?_c('li',{key:stop.name,staticClass:\"location-input__suggestion\",on:{\"keyup\":_vm.handleKeyInput}},[_c('button',{on:{\"click\":function($event){$event.preventDefault();_vm.onSelect(stop)},\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"space\",32,$event.key,\" \")){ return null; }_vm.onSelect(stop)}}},[_vm._v(_vm._s(stop.name))])]):_vm._e()}),(_vm.searchText && !_vm.stops.length && !_vm.isLoading)?_c('li',{staticClass:\"location-input__suggestion\"},[_c('button',{on:{\"click\":function($event){$event.preventDefault();}}},[_vm._v(\"Inga resultat för söktermen\")])]):_vm._e(),_vm._l((_vm.stops),function(suggestion){return _c('li',{key:suggestion.id,staticClass:\"location-input__suggestion\",on:{\"keyup\":_vm.handleKeyInput}},[_c('button',{on:{\"click\":function($event){$event.preventDefault();_vm.onSelect(suggestion)},\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"space\",32,$event.key,\" \")){ return null; }_vm.onSelect(suggestion)}}},[_vm._v(_vm._s(suggestion.name))])])})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    :class=\"{ 'with-label': label }\"\n    class=\"location-input\"\n    @focus=\"showDropDown\"\n    @keyup.esc=\"hideDropDown\">\n\n    <label>\n      {{ label }}:\n      <input\n        v-model=\"searchText\"\n        :disabled=\"disabled\"\n        type=\"search\"\n        placeholder=\"\"\n        @input=\"onInput\"\n        @focus=\"showDropDown\"\n        @blur=\"possiblyHideDropDown\"\n        @keyup.enter=\"selectFirstSuggestion\"\n        @keyup=\"handleKeyInput\">\n      <font-awesome\n        class=\"location-input__spinner\"\n        icon=\"spinner\"\n        spin\n        v-if=\"isLoading\"\n        aria-hidden=\"true\"/>\n    </label>\n\n    <ul\n      v-show=\"show\"\n      class=\"location-input__suggestions\">\n      <li\n        v-if=\"showUseMyLocation\"\n        class=\"location-input__suggestion\"\n        @keyup=\"handleKeyInput\">\n        <button @click.prevent=\"getNearbyStops\">\n          <font-awesome icon=\"crosshairs\"/>\n          <span> {{ nearbyStopsMessage }} </span>\n          <font-awesome\n            v-if=\"isLoadingNearbyStops\"\n            icon=\"spinner\"\n            spin/>\n        </button>\n      </li>\n      <li\n        v-for=\"stop in nearbyStops\"\n        v-if=\"showNearbyStops\"\n        :key=\"stop.name\"\n        class=\"location-input__suggestion\"\n        @keyup=\"handleKeyInput\">\n        <button\n          @click.prevent=\"onSelect(stop)\"\n          @keyup.space=\"onSelect(stop)\">{{ stop.name }}</button>\n      </li>\n      <li\n        v-if=\"searchText && !stops.length && !isLoading\"\n        class=\"location-input__suggestion\">\n        <button @click.prevent>Inga resultat för söktermen</button>\n      </li>\n      <li\n        v-for=\"suggestion in stops\"\n        :key=\"suggestion.id\"\n        class=\"location-input__suggestion\"\n        @keyup=\"handleKeyInput\">\n        <button\n          @click.prevent=\"onSelect(suggestion)\"\n          @keyup.space=\"onSelect(suggestion)\">{{ suggestion.name }}</button>\n      </li>\n    </ul>\n  </div>\n</template>\n<script>\nimport { mapState, mapGetters, mapActions } from 'vuex';\n\nimport debounce from '../util/debounce';\n\nexport default {\n  name: 'LocationInput',\n  mounted() {\n    if (this.selectedLocation) {\n      this.searchText = this.selectedLocation.name;\n    }\n    this.debouncedFindStops = debounce(this.findStops, 350, this);\n  },\n  props: {\n    label: {\n      type: String,\n      default: ''\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      show: false,\n      searchText: ''\n    };\n  },\n  computed: {\n    ...mapGetters('api', ['api']),\n    ...mapGetters({ isLoadingNearbyStops: 'user/isLoading' }),\n    ...mapState('user', ['nearbyStops', 'nearbyStopsError']),\n    ...mapState('stops', ['stops', 'isLoading']),\n    ...mapState({\n      userLocation: ({ user }) => user.location,\n      selectedLocation: ({ trips }) => trips.location\n    }),\n    nearbyStopsMessage() {\n      if (this.isLoadingNearbyStops) return 'Hämtar närliggande hållplatser';\n      return this.nearbyStopsError || 'Använd min plats';\n    },\n    showUseMyLocation() {\n      return !this.searchText && !this.nearbyStops.length;\n    },\n    showNearbyStops() {\n      return !this.searchText && this.nearbyStops.length;\n    },\n    hasSuggestions() {\n      return this.stops.length || this.nearbyStops.length;\n    }\n  },\n  watch: {\n    selectedLocation(newVal) {\n      if (!newVal) this.searchText = '';\n    }\n  },\n  methods: {\n    ...mapActions('user', ['getUserLocation', 'getNearbyStops']),\n    ...mapActions('stops', ['findStops']),\n    ...mapActions('trips', ['updateLocation']),\n    onInput({ target: { value } }) {\n      this.debouncedFindStops(value);\n      // TODO: make it work\n      // .then((stops) => {\n      //   if (stops.length) this.showDropDown();\n      // });\n    },\n    onSelect(location) {\n      this.searchText = location.name;\n      this.updateLocation(location);\n      this.hideDropDown();\n      this.findStops(location.name).then(this.hideDropDown);\n    },\n    selectFirstSuggestion() {\n      if (this.stops.length === 0) return;\n      this.onSelect(this.stops[0]);\n    },\n    handleKeyInput(e) {\n      const dict = {\n        ArrowUp: 'previousElementSibling',\n        ArrowDown: 'nextElementSibling'\n      };\n      const btnElement = 'button';\n\n      const getSibling = (el) => el.parentElement[dict[e.key]];\n\n      if (\n        ['ArrowDown', 'ArrowUp'].includes(e.key) &&\n        this.show &&\n        this.hasSuggestions\n      ) {\n        const focused = this.$el.querySelector(\n          `.location-input__suggestions ${btnElement}:focus`\n        );\n        if (focused) {\n          const next = getSibling(focused);\n          if (next) {\n            next.querySelector(btnElement).focus();\n          }\n        } else {\n          this.$el\n            .querySelector(`.location-input__suggestions ${btnElement}`)\n            .focus();\n        }\n      }\n    },\n    showDropDown() {\n      this.show = true;\n    },\n    hideDropDown() {\n      this.show = false;\n      document.activeElement.blur();\n    },\n    possiblyHideDropDown(e) {\n      if (e.relatedTarget && this.$el.contains(e.relatedTarget)) return;\n      this.hideDropDown();\n    }\n  }\n};\n</script>\n<style>\n.location-input {\n  --left-offset: 80px;\n  position: relative;\n  line-height: 2em;\n  margin-top: 0.5em;\n}\n\n.location-input .nearby-stations {\n  list-style-type: none;\n  padding: 0;\n}\n\n.location-input.with-label .nearby-stations {\n  margin: 0 0 0 var(--left-offset);\n  font-size: small;\n}\n\n.location-input .nearby-stations li {\n  display: inline-block;\n}\n.location-input .nearby-stations .nearby-station {\n  background: var(--brand-color);\n  color: var(--brand-text-color);\n  display: block;\n  line-height: 1.5em;\n  margin-left: 5px;\n  padding: 0 0.5em;\n  text-decoration: none;\n}\n\n.location-input label {\n  display: block;\n  position: relative;\n}\n\n.location-input input {\n  -webkit-appearance: none;\n  border: 1px solid whitesmoke;\n  font: inherit;\n  left: 0;\n  padding: 0 0.5em;\n  position: absolute;\n  width: 100%;\n}\n.location-input input:focus {\n  border: 1px solid gray;\n  outline: none;\n}\n\n.location-input__spinner {\n  position: absolute;\n  right: 0.5em;\n  top: 25%;\n}\n\n.location-input__suggestions {\n  background: var(--brand-color);\n  list-style: none;\n  font-size: 0.875em;\n  padding: 0;\n  position: absolute;\n  top: 1.5em;\n  left: 0;\n  width: 100%;\n  z-index: 10;\n}\n\n.location-input__suggestion .fa {\n  position: initial;\n  margin-left: 0.5em;\n}\n\n.location-input.with-label input,\n.location-input.with-label .location-input__suggestions {\n  left: var(--left-offset);\n  width: calc(100% - var(--left-offset));\n}\n\n.location-input__suggestion:first-child {\n  border-top: 1px solid var(--brand-color);\n}\n.location-input__suggestion:first-child:before {\n  --arrow-size: 5px;\n  border-left: var(--arrow-size) solid transparent;\n  border-right: var(--arrow-size) solid transparent;\n  border-bottom: var(--arrow-size) solid var(--brand-color);\n  content: '';\n  display: block;\n  position: absolute;\n  top: -5px;\n  left: 0.5em;\n  width: 0;\n  height: 0;\n}\n\n.location-input__suggestion button {\n  -webkit-appearance: none;\n  background: transparent;\n  border: 0;\n  color: white;\n  cursor: pointer;\n  display: block;\n  font-size: 1em;\n  padding: 0.5em 0.75em;\n  text-align: left;\n  text-decoration: none;\n  width: 100%;\n}\n\n.location-input__suggestion:first-child button {\n  padding-top: 0.75em;\n}\n.location-input__suggestion:last-child button {\n  padding-bottom: 0.75em;\n}\n\n.location-input__suggestions button:hover,\n.location-input__suggestions button:focus {\n  background: whitesmoke;\n  color: var(--brand-color);\n  outline: none;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocationInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocationInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LocationInput.vue?vue&type=template&id=5eb07a58&\"\nimport script from \"./LocationInput.vue?vue&type=script&lang=js&\"\nexport * from \"./LocationInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LocationInput.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"LocationInput.vue\"\nexport default component.exports","/*\n * Check for browser support\n */\n\nconst isSupported = 'speechSynthesis' in window;\nlet voices;\nlet selectedVoice;\n\n// Fetch the list of voices and populate the voice options.\nfunction loadVoices() {\n  // Fetch the available voices.\n  voices = window.speechSynthesis.getVoices();\n  selectedVoice = voices.find(({ name }) => name == 'Alva');\n  // Loop through each of the voices.\n}\n\n// Execute loadVoices.\nif (isSupported) loadVoices();\n\n// Chrome loads voices asynchronously.\nwindow.speechSynthesis.onvoiceschanged = function() {\n  loadVoices();\n};\n\n// Create a new utterance for the specified text and add it to\n// the queue.\nexport function speak(text) {\n  if (!isSupported) return;\n  // Create a new instance of SpeechSynthesisUtterance.\n  var msg = new SpeechSynthesisUtterance();\n\n  // Set the text.\n  msg.text = text;\n\n  // Set the attributes.\n  msg.volume = 1;\n  msg.rate = 0.9;\n  msg.pitch = 1;\n\n  // If a voice has been selected, find the voice and set the\n  // utterance instance's voice attribute.\n  if (!selectedVoice) {\n    console.log('Could not select voice');\n  } else {\n    msg.voice = selectedVoice;\n  }\n\n  // Queue this utterance.\n  window.speechSynthesis.speak(msg);\n}\n\nexport default {\n  speak\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:[_vm.$style.tripsTable, ( _obj = {}, _obj[_vm.$style.VT] = _vm.apiName === 'VT', _obj[_vm.$style.TV] = _vm.apiName === 'TV', _obj[_vm.$style.SL] = _vm.apiName === 'SL', _obj[_vm.$style.showingJourneyDetails] = _vm.showJourneyDetails, _obj )]},[_c('table',{class:_vm.$style.table},[_c('thead',{class:_vm.$style.tableHead},[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.metaLabel))]),_c('th',[_vm._v(\"Tid\")]),_c('th',[_vm._v(_vm._s(_vm.fromToLabel))]),_c('th',{class:_vm.$style.tripNewTime},[_vm._v(\"Ny tid\")]),_c('th',[_vm._v(_vm._s(_vm.trackLabel))])])]),_c('tbody',{class:_vm.$style.tableBody},[_c('tr',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLoading),expression:\"isLoading\"}]},[_c('td',{attrs:{\"colspan\":\"5\"}},[_vm._v(\"\\n          Hämtar trafikdata...\\n          \"),_c('font-awesome',{attrs:{\"icon\":\"spinner\",\"spin\":\"\"}})],1)]),_vm._l((_vm.trips),function(trip){return _c('tr',{key:trip.id,class:[_vm.$style.trip, ( _obj = {}, _obj[_vm.$style.cancelled] = trip.cancelled, _obj )],on:{\"click\":function($event){_vm.getJourneyDetails(trip)}}},[_c('td',{class:_vm.$style.tripLine,style:({ backgroundColor: trip.fgColor, color: trip.bgColor })},[_vm._v(\"\\n          \"+_vm._s(trip.sname)+\"\\n        \")]),_c('td',{class:_vm.$style.tripTime},[_c('span',{class:['only-mobile', ( _obj$1 = {}, _obj$1[_vm.$style.isLate] = trip.isLate, _obj$1 )]},[_vm._v(_vm._s(trip.rtTime || trip.time))]),_c('span',{staticClass:\"from-tablet\"},[_vm._v(_vm._s(trip.time))])]),_c('td',{class:_vm.$style.tripDest},[_c('div',[_c('span',{class:_vm.$style.tripName},[_vm._v(\"\\n              \"+_vm._s(trip.direction || trip.origin)+\"\\n            \")]),(trip.isAffected)?_c('span',[_vm._v(\" ⛔️\")]):_vm._e(),(trip.cancelled)?_c('span',[_vm._v(\" ⚠️ Färd inställd\")]):_vm._e()]),_c('div',{class:_vm.$style.tripVia},[(trip.via)?_c('small',[_vm._v(\" via \"+_vm._s(trip.via))]):_vm._e()])]),_c('td',{class:[_vm.$style.tripNewTime, _vm.$style.isLate]},[(trip.isLate)?_c('span',[_vm._v(_vm._s(trip.rtTime))]):_vm._e()]),_c('td',{class:_vm.$style.tripTrack},[_vm._v(_vm._s(trip.track))])])\nvar _obj;\nvar _obj$1;}),_c('tr',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isLoading && _vm.location && _vm.trips.length === 0),expression:\"!isLoading && location && trips.length === 0\"}]},[_c('td',{attrs:{\"colspan\":\"5\"}},[_vm._v(\"Inga resor att visa\")])])],2)])])\nvar _obj;}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    :class=\"[$style.tripsTable, {\n      [$style.VT]: apiName === 'VT',\n      [$style.TV]: apiName === 'TV',\n      [$style.SL]: apiName === 'SL',\n      [$style.showingJourneyDetails]: showJourneyDetails\n  }]\">\n    <table :class=\"$style.table\">\n      <thead :class=\"$style.tableHead\">\n        <tr>\n          <th>{{ metaLabel }}</th>\n          <th>Tid</th>\n          <th>{{ fromToLabel }}</th>\n          <th :class=\"$style.tripNewTime\">Ny tid</th>\n          <th>{{ trackLabel }}</th>\n        </tr>\n      </thead>\n      <tbody :class=\"$style.tableBody\">\n        <tr v-show=\"isLoading\">\n          <td colspan=\"5\">\n            Hämtar trafikdata...\n            <font-awesome\n              icon=\"spinner\"\n              spin />\n          </td>\n        </tr>\n        <tr\n          v-for=\"trip in trips\"\n          :key=\"trip.id\"\n          :class=\"[$style.trip, { [$style.cancelled]: trip.cancelled }]\"\n          @click=\"getJourneyDetails(trip)\">\n          <td\n            :style=\"{ backgroundColor: trip.fgColor, color: trip.bgColor }\"\n            :class=\"$style.tripLine\">\n            {{ trip.sname }}\n          </td>\n          <td :class=\"$style.tripTime\">\n            <span :class=\"['only-mobile', { [$style.isLate]: trip.isLate }]\">{{ trip.rtTime || trip.time }}</span>\n            <span class=\"from-tablet\">{{ trip.time }}</span>\n          </td>\n          <td :class=\"$style.tripDest\">\n            <div>\n              <span :class=\"$style.tripName\">\n                {{ trip.direction || trip.origin }}\n              </span>\n              <span v-if=\"trip.isAffected\">&nbsp;⛔️</span>\n              <span v-if=\"trip.cancelled\">&nbsp;⚠️ Färd inställd</span>\n            </div>\n            <div :class=\"$style.tripVia\"><small v-if=\"trip.via\"> via {{ trip.via }}</small></div>\n          </td>\n          <td :class=\"[$style.tripNewTime, $style.isLate]\"><span v-if=\"trip.isLate\">{{ trip.rtTime }}</span></td>\n          <td :class=\"$style.tripTrack\">{{ trip.track }}</td>\n        </tr>\n        <tr v-show=\"!isLoading && location && trips.length === 0\">\n          <td colspan=\"5\">Inga resor att visa</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n<script>\nimport { mapState, mapGetters, mapActions } from 'vuex';\nimport debounce from '../util/debounce';\nimport { speak } from '../util/speechSynthesis';\n\nexport default {\n  name: 'TripsTable',\n  props: {\n    fromToLabel: {\n      type: String,\n      default: ''\n    }\n  },\n  mounted() {\n    this.speak = debounce(this.speak, 250, this);\n  },\n  computed: {\n    ...mapState({\n      showJourneyDetails: (state) => state.showJourneyDetails,\n      apiName: ({ api }) => api.name\n    }),\n    ...mapState('trips', {\n      isLoading: ({ isLoading }) => isLoading,\n      location: ({ location }) => location,\n      doSpeak: ({ options }) => options.voice\n    }),\n    ...mapGetters({ trips: 'trips/filteredTrips' }),\n    ...mapGetters('api', ['dict']),\n    metaLabel() {\n      return this.dict.sname;\n    },\n    trackLabel() {\n      return this.dict.track;\n    }\n  },\n  watch: {\n    trips(trips) {\n      this.speak(trips);\n    }\n  },\n  methods: {\n    ...mapActions(['getJourneyDetails']),\n    speak(trips) {\n      if (trips.length < 1 || !this.doSpeak) return;\n      const { name, direction, timestamp } = trips[0];\n      const via = (trips[0].via && `via ${trips[0].via},`) || '';\n      const inMinutes = Math.ceil((timestamp - Date.now()) / (1000 * 60));\n      if (inMinutes <= 0) {\n        speak(`${name} mot ${direction}, ${via} avgår nu`);\n      } else if (inMinutes === 1) {\n        speak(`${name} mot ${direction}, ${via} avgår om en minut`);\n      } else if (inMinutes > 1 && inMinutes <= 60) {\n        speak(`${name} mot ${direction}, ${via} avgår om ${inMinutes} minuter`);\n      } else {\n        speak(`${name} mot ${direction}, ${via} avgår om mer än en timma`);\n      }\n    }\n  }\n};\n</script>\n<style module>\n.tripsTable {\n  width: 100%;\n}\n\n.showingJourneyDetails {\n  display: none;\n}\n@media (min-width: 900px) {\n  .showingJourneyDetails {\n    display: block;\n  }\n}\n\n.table {\n  background-color: white;\n  border: 0;\n  border-collapse: collapse;\n  color: var(--darker-text-color);\n  width: 100%;\n}\n\n.table td,\n.table th {\n  padding: 0.5em;\n}\n\n.tableHead {\n  background-color: var(--brand-color);\n  color: var(--brand-text-color);\n}\n.tableHead th {\n  font-weight: normal;\n  text-align: left;\n}\n\n.trip {\n  cursor: pointer;\n}\n.trip:nth-child(even) {\n  background: #eee;\n}\n\n.tripLine {\n  padding: 0.5em;\n  text-align: center;\n  width: 50px;\n}\n\n.cancelled .tripName {\n  text-decoration: line-through;\n}\n\n.tripName {\n  font-weight: 500;\n}\n.tripTime,\n.tripNewTime {\n  width: 60px;\n}\n.tripNewTime {\n  display: none;\n}\n.isLate {\n  color: var(--brand-color);\n}\n.tripTrack {\n  text-align: center;\n  width: 50px;\n}\n\n@media screen and (min-width: 450px) {\n  .tripNewTime {\n    display: table-cell;\n  }\n}\n\n/***\n * API-BASED THEMES\n */\n.VT {\n}\n\n.TV .tripLine {\n  text-align: left;\n}\n\n.SL {\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TripsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TripsTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TripsTable.vue?vue&type=template&id=670895b7&\"\nimport script from \"./TripsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./TripsTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TripsTable.vue?vue&type=style&index=0&module=true&lang=css&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"TripsTable.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.$style.tripsFilter},[_c('div',{class:_vm.$style.filter},[_c('font-awesome',{staticClass:\"only-mobile\",attrs:{\"icon\":\"filter\"}}),_c('span',{staticClass:\"from-tablet\"},[_vm._v(\"Filter:\")])],1),_c('div',{class:_vm.$style.filter},[_c('select',{attrs:{\"name\":\"dest\"},on:{\"change\":_vm.updateFilter}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(_vm._s(_vm.fromToLabel))]),_vm._l((_vm.destinations),function(dest){return _c('option',{key:dest,domProps:{\"selected\":_vm.filter.dest === dest,\"value\":dest}},[_vm._v(_vm._s(dest))])})],2)]),_c('div',{class:_vm.$style.filter},[_c('select',{attrs:{\"name\":\"track\"},on:{\"change\":_vm.updateFilter}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"Läge\")]),_vm._l((_vm.tracks),function(track){return _c('option',{key:track,domProps:{\"selected\":_vm.filter.track === track,\"value\":track}},[_vm._v(_vm._s(track))])})],2)]),_c('div',{class:[_vm.$style.filter, 'from-desktop']},[_c('label',[_vm._v(\"\\n      Live\\n      \"),_c('input',{attrs:{\"type\":\"checkbox\",\"name\":\"isLive\"},domProps:{\"checked\":_vm.options.isLive},on:{\"input\":_vm.updateOption}})])]),_c('div',{class:_vm.$style.filter},[_c('label',{class:_vm.$style.voice},[_c('font-awesome',{attrs:{\"icon\":['fas', _vm.options.voice ? 'volume-up' : 'volume-off']}}),_c('input',{class:_vm.$style.voiceCheckbox,attrs:{\"type\":\"checkbox\",\"name\":\"voice\"},domProps:{\"checked\":_vm.options.voice},on:{\"input\":_vm.updateOption}})],1)]),_c('div',{class:_vm.$style.filter},[_c('button',{class:_vm.$style.refreshBtn,attrs:{\"title\":\"Uppdatera\"},on:{\"click\":function($event){$event.preventDefault();_vm.getTrips()}}},[_c('font-awesome',{attrs:{\"icon\":\"sync\"}})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function sortNumbersAndLetters(a, b) {\n  const ac = Number(a) || a.charCodeAt(0);\n  const bc = Number(b) || b.charCodeAt(0);\n  if (ac < bc) return -1;\n  if (ac > bc) return 1;\n  return 0;\n}\n","export default function getFormData(node) {\n  if (!(node instanceof HTMLElement)) {\n    throw Error('Argument must be HTMLElement');\n  }\n\n  const { nodeName, name } = node;\n  if (nodeName === 'SELECT') {\n    return {\n      [name]: node.selectedOptions[0].value\n    };\n  }\n  if (nodeName === 'INPUT') {\n    const value = ['checkbox', 'radio'].includes(node.type)\n      ? node.checked\n      : node.value;\n    return {\n      [name]: value\n    };\n  }\n  throw Error(`Unhandled node type: ${node.nodeName}`);\n}\n","<template>\n  <div\n    :class=\"$style.tripsFilter\">\n    <div :class=\"$style.filter\">\n      <font-awesome\n        class=\"only-mobile\"\n        icon=\"filter\"/>\n      <span class=\"from-tablet\">Filter:</span>\n    </div>\n    <div :class=\"$style.filter\">\n      <select\n        @change=\"updateFilter\"\n        name=\"dest\">\n        <option value=\"\">{{ fromToLabel }}</option>\n        <option\n          v-for=\"dest in destinations\"\n          :selected=\"filter.dest === dest\"\n          :key=\"dest\"\n          :value=\"dest\">{{ dest }}</option>\n      </select>\n    </div>\n    <div :class=\"$style.filter\">\n      <select\n        @change=\"updateFilter\"\n        name=\"track\">\n        <option value=\"\">Läge</option>\n        <option\n          v-for=\"track in tracks\"\n          :selected=\"filter.track === track\"\n          :key=\"track\"\n          :value=\"track\">{{ track }}</option>\n      </select>\n    </div>\n    <!-- <div :class=\"$style.filter\">\n      <select\n        @change=\"updateFilter\"\n        name=\"timeSpan\">\n        <option value=\"\">{{ arriveDepartLabel }} inom</option>\n        <option\n          v-for=\"span in timeSpans\"\n          :selected=\"span.value === filter.timeSpan\"\n          :key=\"span.value\"\n          :value=\"span.value\">{{ span.name }}</option>\n      </select>\n    </div> -->\n    <div :class=\"[$style.filter, 'from-desktop']\">\n      <label>\n        Live\n        <input\n          :checked=\"options.isLive\"\n          @input=\"updateOption\"\n          type=\"checkbox\"\n          name=\"isLive\">\n      </label>\n    </div>\n    <div :class=\"$style.filter\">\n      <label :class=\"$style.voice\">\n        <font-awesome :icon=\"['fas', options.voice ? 'volume-up' : 'volume-off']\"/>\n        <input\n          :class=\"$style.voiceCheckbox\"\n          :checked=\"options.voice\"\n          @input=\"updateOption\"\n          type=\"checkbox\"\n          name=\"voice\">\n      </label>\n    </div>\n    <div :class=\"$style.filter\">\n      <button\n        :class=\"$style.refreshBtn\"\n        @click.prevent=\"getTrips()\"\n        title=\"Uppdatera\">\n        <font-awesome icon=\"sync\"/>\n      </button>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapState, mapGetters, mapMutations, mapActions } from 'vuex';\nimport sortNumbersAndLetters from '../util/sortNumbersAndLetters';\nimport getFormData from '../util/getFormData';\n\nexport default {\n  name: 'TripsFilter',\n  props: {\n    dict: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  data() {\n    return {\n      radio: false,\n      timeSpans: [\n        { value: '30', name: '30 min' },\n        { value: '60', name: '1 timme' },\n        { value: '120', name: '2 timmar' },\n        { value: '180', name: '3 timmar' },\n        { value: '360', name: '6 timmar' },\n        { value: '720', name: '12 timmar' },\n        { value: '1440', name: '24 timmar' }\n      ]\n    };\n  },\n  computed: {\n    ...mapState('trips', ['filter', 'options']),\n    ...mapGetters({ trips: 'trips/filteredTrips' }),\n    fromToLabel() {\n      return this.dict.origDest;\n    },\n    arriveDepartLabel() {\n      return this.dict.arrEaves;\n    },\n    destinations() {\n      return Array.from(\n        new Set(this.trips.map(({ direction, origin }) => direction || origin))\n      );\n    },\n    tracks() {\n      const tracks = this.trips\n        .map(({ track }) => track)\n        .filter((x) => x)\n        .map(String);\n\n      return Array.from(new Set(tracks)).sort(sortNumbersAndLetters);\n    }\n  },\n  methods: {\n    ...mapMutations('trips', ['setFilter', 'setOptions']),\n    ...mapActions('trips', ['getTrips']),\n    updateFilter({ target }) {\n      const filter = getFormData(target);\n      if (!filter) return;\n      this.setFilter(filter);\n    },\n    updateOption({ target }) {\n      const option = getFormData(target);\n      if (!option) return;\n      this.setOptions(option);\n    }\n  }\n};\n</script>\n<style module>\n.tripsFilter {\n  display: flex;\n  align-items: center;\n  padding: 0.5em;\n}\n.filter:not(:first-child) {\n  margin-left: 0.5em;\n}\n.voice {\n  cursor: pointer;\n}\n.voiceCheckbox {\n  display: none;\n}\n.refreshBtn {\n  background: transparent;\n  border: 0;\n  color: currentColor;\n  cursor: pointer;\n  font-size: 1em;\n}\n.refreshBtn:focus {\n  outline: none;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TripsFilter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TripsFilter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TripsFilter.vue?vue&type=template&id=71d498f4&\"\nimport script from \"./TripsFilter.vue?vue&type=script&lang=js&\"\nexport * from \"./TripsFilter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TripsFilter.vue?vue&type=style&index=0&module=true&lang=css&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"TripsFilter.vue\"\nexport default component.exports","<template>\n  <section :class=\"$style.stationInfo\">\n    <div :class=\"$style.form\">\n      <LocationInput\n        :disabled=\"initializing\"\n        label=\"Hållplats\" />\n    </div>\n    <TripsFilter\n      :dict=\"dict\"\n      v-if=\"location\"/>\n    <div :class=\"$style.content\">\n      <TripsTable\n        :from-to-label=\"fromToLabel\" />\n      <JourneyDetails />\n    </div>\n    <footer\n      v-if=\"location\"\n      :class=\"$style.situations\">\n      <p\n        v-for=\"(msg, index) in situations.messages\"\n        :key=\"index\">{{ msg }}</p>\n      <p v-if=\"situations.messages.length === 0\">Inga trafikstörningar.</p>\n    </footer>\n  </section>\n</template>\n<script>\nimport { mapState, mapGetters, mapActions } from 'vuex';\n\nimport apis from '../api';\nimport googleDrive from '../api/googleDrive';\n\nimport JourneyDetails from './JourneyDetails.vue';\nimport LocationInput from './LocationInput.vue';\nimport TripsTable from './TripsTable.vue';\nimport TripsFilter from './TripsFilter.vue';\n\nconst dict = {\n  arrival: {\n    arrEaves: 'Ankommer',\n    origDest: 'Från'\n  },\n  departure: {\n    arrEaves: 'Avgår',\n    origDest: 'Till'\n  }\n};\n\nexport default {\n  name: 'StationInfo',\n  components: {\n    LocationInput,\n    JourneyDetails,\n    TripsTable,\n    TripsFilter\n  },\n  props: {\n    arrivals: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      manualTrips: []\n    };\n  },\n  computed: {\n    ...mapState('trips', ['location', 'situations']),\n    ...mapState('api', {\n      apiName: ({ name }) => name,\n      initializing: ({ initializing }) => initializing\n    }),\n    ...mapGetters('api', ['api']),\n    dict() {\n      return this.arrivals ? dict.arrival : dict.departure;\n    },\n    show() {\n      return !!this.trips.length;\n    },\n    fromToLabel() {\n      return this.arrivals ? 'Från' : 'Till';\n    },\n    arriveDepartLabel() {\n      return this.arrivals ? 'Ankommer' : 'Avgår';\n    }\n  },\n  watch: {\n    arrivals(newVal, oldVal) {\n      if (newVal !== oldVal) {\n        if (this.location) {\n          this.getTrips(this.location);\n        }\n      }\n    },\n    apiName(newVal, oldVal) {\n      if (newVal !== oldVal) {\n        clearTimeout(this.lastTimeoutId);\n        this.loadManualDepartures();\n      }\n    }\n  },\n  mounted() {\n    this.loadManualDepartures();\n  },\n  beforeDestroy() {\n    clearTimeout(this.lastTimeoutId);\n  },\n  methods: {\n    ...mapActions('trips', ['getTrips']),\n    // TODO: move this somewhere else\n    loadManualDepartures() {\n      if (this.apiName === 'SOMETHING THAT DOES NOT EXIST') {\n        googleDrive.getManualDepartures().then((res) => {\n          this.manualTrips = apis.VT.transformTrips(res);\n          console.log('this.manualTrips', this.manualTrips);\n        });\n      }\n    }\n    // TODO: move this into trips\n    // refreshDepartures() {\n    //   clearTimeout(this.lastTimeoutId);\n    //   window.requestAnimationFrame(() => {\n    //     this.lastTimeoutId = setTimeout(() => {\n    //       this.getDepartures();\n    //       this.refreshDepartures();\n    //     }, 30000);\n    //   });\n    // }\n  }\n};\n</script>\n<style module>\n.stationInfo {\n}\n\n.form {\n  padding: 0.5em;\n}\n\n.content {\n  display: flex;\n  position: relative;\n}\n\n.situations {\n  background-color: var(--brand-color);\n  color: var(--brand-text-color);\n  line-height: 1.4em;\n  margin: 0;\n  padding: 1em 1.5em;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StationInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StationInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StationInfo.vue?vue&type=template&id=02df813f&\"\nimport script from \"./StationInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./StationInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StationInfo.vue?vue&type=style&index=0&module=true&lang=css&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"StationInfo.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{class:_vm.$style.tabs},_vm._l((_vm.tabs),function(tab){return _c('li',{key:tab.name,class:[_vm.$style.tab, ( _obj = {}, _obj[_vm.$style.tabSmall] = tab.small, _obj[_vm.$style.tabActive] = _vm.currentTab === tab.name, _obj[_vm.$style.tabDisabled] = tab.disabled, _obj )]},[_c('a',{class:_vm.$style.link,attrs:{\"title\":tab.name,\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();tab.onClick(tab.name, tab.props.arrivals)}}},[(tab.icon)?_c('font-awesome',{class:_vm.$style.onlyMobile,attrs:{\"icon\":tab.icon}}):_vm._e(),(!tab.initializing)?_c('span',{class:( _obj$1 = {}, _obj$1[_vm.$style.onlyDesktop] = tab.icon, _obj$1 )},[_vm._v(\"\\n        \"+_vm._s(tab.name)+\"\\n      \")]):_vm._e(),(tab.initializing)?_c('font-awesome',{attrs:{\"icon\":\"spinner\",\"spin\":\"\"}}):_vm._e()],1)])\nvar _obj;\nvar _obj$1;}))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <ul :class=\"$style.tabs\">\n    <li\n      v-for=\"tab in tabs\"\n      :key=\"tab.name\"\n      :class=\"[$style.tab, {\n        [$style.tabSmall]: tab.small,\n        [$style.tabActive]: currentTab === tab.name,\n        [$style.tabDisabled]: tab.disabled\n    }]\">\n      <a\n        :class=\"$style.link\"\n        :title=\"tab.name\"\n        href=\"#\"\n        @click.prevent=\"tab.onClick(tab.name, tab.props.arrivals)\">\n        <font-awesome\n          v-if=\"tab.icon\"\n          :icon=\"tab.icon\"\n          :class=\"$style.onlyMobile\" />\n        <span\n          v-if=\"!tab.initializing\"\n          :class=\"{ [$style.onlyDesktop]: tab.icon }\">\n          {{ tab.name }}\n        </span>\n        <font-awesome\n          v-if=\"tab.initializing\"\n          icon=\"spinner\"\n          spin/>\n      </a>\n    </li>\n  </ul>\n</template>\n<script>\nexport default {\n  name: 'TabsComponent',\n  props: {\n    tabs: {\n      type: Array,\n      default: () => []\n    },\n    onClick: {\n      type: Function,\n      default: () => {}\n    },\n    currentTab: {\n      type: String,\n      default: ''\n    }\n  }\n};\n</script>\n<style module>\n.tabs {\n  flex-grow: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n}\n\n.tab {\n  background-color: var(--brand-color);\n  border-right: 1px solid var(--brand-text-color-dim);\n  color: var(--brand-text-color-dim);\n  cursor: pointer;\n  flex-basis: 53px;\n  flex-grow: 1;\n  text-align: center;\n}\n\n.tab:last-child {\n  border-right-width: 0;\n}\n\n.tabSmall {\n  flex-grow: 0;\n}\n.tabActive {\n  background-color: white;\n  color: var(--brand-color);\n}\n.tabApi {\n  flex-grow: 0;\n}\n.tabDisabled {\n  text-decoration: line-through;\n  pointer-events: none;\n  cursor: disabled;\n}\n\n.tab:not(.tabActive):hover,\n.tab:not(.tabActive):focus {\n  color: var(--brand-text-color);\n}\n\n.link {\n  color: inherit;\n  display: block;\n  padding: 0.5em 1em;\n  text-decoration: none;\n}\n\n.link:focus {\n  outline: none;\n}\n\n.onlyDesktop {\n  display: none;\n}\n\n@media (min-width: 900px) {\n  .onlyMobile {\n    display: none;\n  }\n  .onlyDesktop {\n    display: unset;\n  }\n  .tab:last-child {\n    border-right-width: 1px;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tabs.vue?vue&type=template&id=1178a40e&\"\nimport script from \"./Tabs.vue?vue&type=script&lang=js&\"\nexport * from \"./Tabs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tabs.vue?vue&type=style&index=0&module=true&lang=css&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Tabs.vue\"\nexport default component.exports","<template>\n  <div id=\"app\">\n    <div class=\"top-nav\">\n      <Tabs\n        :tabs=\"tabs\"\n        :on-click=\"changeTab\"\n        :current-tab=\"currentTab\" />\n      <DigitalClock />\n    </div>\n    <div class=\"container\">\n      <component\n        :is=\"currentTabComponent.componentName\"\n        v-bind=\"currentTabComponent.props\"/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapGetters, mapMutations, mapActions } from 'vuex';\n\nimport InformationPage from './components/InformationPage.vue';\nimport DigitalClock from './components/DigitalClock.vue';\nimport StationInfo from './components/StationInfo.vue';\nimport Tabs from './components/Tabs.vue';\n\nconst baseTab = {\n  icon: '',\n  props: { arrivals: false },\n  onClick() {}\n};\nconst components = [\n  {\n    name: 'Avgångar',\n    componentName: 'station-info'\n  },\n  {\n    name: 'Ankomster',\n    componentName: 'station-info',\n    props: { arrivals: true }\n  },\n  {\n    name: 'Karta',\n    componentName: 'map-component',\n    icon: 'map'\n  },\n  {\n    name: 'Info',\n    componentName: 'information-page',\n    icon: 'info-circle'\n  }\n];\n\nexport default {\n  name: 'App',\n  components: {\n    MapComponent: () => import('./components/Map.vue'),\n    Tabs,\n    StationInfo,\n    DigitalClock,\n    InformationPage\n  },\n  computed: {\n    ...mapState({\n      apiName: ({ api }) => api.name,\n      initializing: ({ api }) => api.initializing\n    }),\n    ...mapState('tabs', ['currentTab']),\n    ...mapGetters('api', ['api']),\n    tabs() {\n      return [\n        {\n          ...baseTab,\n          name: this.apiName,\n          small: true,\n          onClick: this.toggleApi,\n          initializing: this.initializing\n        },\n        ...components.map((comp) => ({\n          ...baseTab,\n          ...comp,\n          disabled:\n            comp.props &&\n            comp.props.arrivals &&\n            typeof this.api.getArrivalsTo !== 'function',\n          onClick: this.changeTab\n        }))\n      ];\n    },\n    currentTabComponent() {\n      return this.tabs.find(({ name }) => name === this.currentTab);\n    }\n  },\n  methods: {\n    ...mapMutations('trips', ['setArrivals']),\n    ...mapMutations('tabs', ['setCurrentTab']),\n    ...mapActions('api', ['toggleApi']),\n    changeTab(tab, arrivals) {\n      this.setArrivals(arrivals);\n      this.setCurrentTab(tab);\n    }\n  }\n};\n</script>\n<style>\n:root {\n  --brand-color: rgb(0, 157, 219);\n  --brand-text-color: white;\n  --brand-text-color-dim: rgba(255, 255, 255, 0.75);\n  --dark-text-color: dimgray;\n  --darker-text-color: rgb(0, 57, 77);\n}\n\nhtml {\n  box-sizing: border-box;\n  height: 100%;\n}\n\n*,\n*:before,\n*:after {\n  box-sizing: inherit;\n}\n\nbody {\n  font-family: system-ui, Helvetica Neue, sans-serif;\n  color: var(--brand-color);\n  height: 100%;\n  margin: 0;\n  padding: 0;\n}\n\n#app {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.top-nav {\n  display: flex;\n  justify-content: space-between;\n  flex-shrink: 0;\n}\n\n.container {\n  height: calc(100% - 36px);\n}\n\n.from-tablet,\n.from-desktop {\n  display: none;\n}\n\n@media (min-width: 450px) {\n  .from-tablet {\n    display: initial;\n  }\n  .only-mobile {\n    display: none;\n  }\n}\n\n@media (min-width: 900px) {\n  .from-desktop {\n    display: initial;\n  }\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=16513ba2&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","const state = {\n  isSupported: 'geolocation' in navigator,\n  isLoading: {\n    location: false,\n    nearbyStops: false\n  },\n  location: null,\n  consented: null,\n  nearbyStops: [],\n  nearbyStopsError: ''\n};\n\nconst getters = {\n  isLoading({ isLoading }) {\n    return isLoading.location || isLoading.nearbyStops;\n  }\n};\n\nconst actions = {\n  async getNearbyStops({ commit, dispatch, state, rootState, rootGetters }) {\n    if (!state.isSupported) return;\n    if (!state.location) {\n      await dispatch('getUserLocation');\n    }\n\n    commit('setLoading', { nearbyStops: true });\n    rootGetters['api/api']\n      .getClosestStops(state.location)\n      .then((nearbyStops) => {\n        // only update nearbyStations promise resolves with correct data\n        console.log('nearbySyops', nearbyStops);\n        if (\n          nearbyStops &&\n          nearbyStops.length &&\n          nearbyStops[0].region === rootState.api.name\n        ) {\n          commit('setNearbyStops', nearbyStops);\n        } else {\n          commit(\n            'setNearbyStopsError',\n            'Hittade ingen närliggande hållplats 😥'\n          );\n          setTimeout(() => commit('setNearbyStopsError', ''), 7000);\n        }\n        commit('setLoading', { nearbyStops: false });\n      })\n      .catch((reason) => {\n        console.error(reason);\n        commit('setLoading', { nearbyStops: false });\n        commit('setNearbyStopsError', 'Något gick snett 😱');\n      });\n  },\n  getUserLocation({ commit, state }) {\n    if (!state.isSupported) return Promise.resolve();\n\n    commit('setLoading', { location: true });\n    return new Promise((resolve, reject) => {\n      navigator.geolocation.getCurrentPosition(resolve, reject);\n    })\n      .then((pos) => {\n        commit('setLoading', { location: false });\n        commit('setConsented', true);\n        commit('setLocation', pos.coords);\n      })\n      .catch((reason) => {\n        console.error(reason);\n        commit('setLoading', { location: false });\n        commit('setConsented', false);\n      });\n  }\n};\n\nconst mutations = {\n  setLoading(state, loading) {\n    state.isLoading = {\n      ...state.loading,\n      ...loading\n    };\n  },\n  setConsented(state, value) {\n    state.consented = value;\n  },\n  setLocation(state, coords) {\n    state.location = {\n      lat: coords.latitude,\n      lng: coords.longitude\n    };\n  },\n  setNearbyStops(state, stops) {\n    state.nearbyStops = stops;\n    state.nearbyStopsError = '';\n  },\n  setNearbyStopsError(state, error) {\n    state.nearbyStopsError = error;\n  }\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n};\n","const viaRegExp = /\\s*via\\s*/;\n\nexport default function getDestinationVia(departure) {\n  if (viaRegExp.test(departure.direction)) {\n    const [direction, via] = departure.direction.split(viaRegExp);\n    return Object.assign({}, departure, {\n      direction,\n      via\n    });\n  }\n  return departure;\n}\n","import getDestinationVia from '../util/getDestinationVia';\n\nconst initialFilter = {\n  track: '',\n  dest: '',\n  timeSpan: ''\n};\nconst initialSituations = {\n  messages: [],\n  affectedLines: []\n};\nconst initialOptions = {\n  isLive: true,\n  voice: false\n};\nconst filterKeys = Object.keys(initialFilter);\nconst optionKeys = Object.keys(initialOptions);\n\nconst state = {\n  arrivals: false,\n  filter: { ...initialFilter },\n  options: { ...initialOptions },\n  trips: [],\n  situations: { ...initialSituations },\n  isLoading: false,\n  location: null\n};\n\nconst getters = {\n  filteredTrips({ trips, filter, situations }) {\n    // return trips.filter(() => true);\n    const { track, dest } = filter;\n    const { affectedLines = [] } = situations;\n    // TODO: make manual trips work\n    // const now = Date.now();\n    // const filteredManual = this.manualTrips\n    //   .filter(({ origin }) => origin === this.location.name)\n    //   .filter(({ timestamp }) => timestamp > now);\n    // return [...filteredManual, ...filteredTrips]\n\n    return trips\n      .map((trip) => ({\n        ...trip,\n        isAffected: affectedLines.includes(trip.sname)\n      }))\n      .filter((trip) => (track ? trip.track === track : true))\n      .filter(\n        ({ direction, origin }) =>\n          dest ? direction === dest || origin === dest : true\n      )\n      .sort((a, b) => a.timestamp - b.timestamp);\n  }\n};\n\nconst actions = {\n  getTrips({ commit, state, rootGetters }, location = state.location) {\n    const getTripsMethod = state.arrivals\n      ? rootGetters['api/api']['getArrivalsTo']\n      : rootGetters['api/api']['getDeparturesFrom'];\n    commit('setLoading', true);\n    return getTripsMethod(location.id, state.filter.timeSpan)\n      .then((resp) => {\n        const trips = resp.map(getDestinationVia);\n        console.log('[getTrips]', trips);\n\n        commit('setTrips', trips);\n        commit('setLoading', false);\n      })\n      .catch((reason) => {\n        console.error('[getTrips]', reason);\n        commit('setLoading', false);\n      });\n  },\n  getTrafficSituations({ commit, rootGetters }, location) {\n    return rootGetters['api/api']\n      .getTrafficSituations(location.id, 'stoparea') // WTF?\n      .then((situations) => {\n        console.log('situations', situations);\n        commit('setSituations', situations);\n      })\n      .catch((reason) => console.error('[getTrafficSituations]', reason));\n  },\n  updateLocation({ dispatch, commit, state }, location) {\n    if (state.location === location) return;\n\n    console.log('[updateLocation]', location);\n    commit('setLocation', location);\n    dispatch('getTrips', location);\n    dispatch('getTrafficSituations', location);\n  }\n};\n\nconst mutations = {\n  reset(state) {\n    state.trips = [];\n    state.filter = { ...initialFilter };\n    state.location = null;\n    state.situations = { ...initialSituations };\n  },\n  setFilter(state, filter) {\n    if (!Object.keys(filter).every((key) => filterKeys.includes(key))) {\n      return console.error(\n        '[setFilter]',\n        'Non valid key(s) supplied, must be one of',\n        filterKeys\n      );\n    }\n    state.filter = {\n      ...state.filter,\n      ...filter\n    };\n  },\n  setOptions(state, options) {\n    if (!Object.keys(options).every((key) => optionKeys.includes(key))) {\n      return console.error(\n        '[setOptions]',\n        'Non valid key(s) supplied, must be one of',\n        optionKeys\n      );\n    }\n    state.options = {\n      ...state.options,\n      ...options\n    };\n  },\n  setTrips(state, trips) {\n    state.trips = trips;\n  },\n  setSituations(state, situations) {\n    state.situations = situations;\n  },\n  setLoading(state, value) {\n    state.isLoading = value;\n  },\n  setLocation(state, location) {\n    state.location = location;\n  },\n  setArrivals(state, value) {\n    state.arrivals = value;\n  }\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n};\n","const state = {\n  stops: [],\n  isLoading: false\n};\n\nconst getters = {};\n\nlet lastQuery;\nconst actions = {\n  findStops({ commit, rootGetters }, query) {\n    if (!query) return commit('setStops', []);\n    lastQuery = query;\n\n    commit('setLoading', true);\n    return rootGetters['api/api']\n      .findStops(query)\n      .then((stops) => {\n        console.log('stops', stops);\n        if (lastQuery === query) {\n          commit('setLoading', false);\n          commit('setStops', stops);\n        } else {\n          console.log('skipping response');\n        }\n        return stops;\n      })\n      .catch((reason) => {\n        console.error(reason);\n        commit('setLoading', false);\n      });\n  }\n};\n\nconst mutations = {\n  setStops(state, stops) {\n    state.stops = stops;\n  },\n  setLoading(state, value) {\n    state.isLoading = value;\n  }\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n};\n","const state = {\n  currentTab: 'Avgångar'\n};\n\nconst mutations = {\n  setCurrentTab(state, value) {\n    state.currentTab = value;\n  }\n};\n\nexport default {\n  namespaced: true,\n  state,\n  mutations\n};\n","import apis, { apiDict } from '../api';\n\nconst locationAPIs = Object.keys(apis);\nconst defaultApi = 'VT'; // Västtrafik\nif (!locationAPIs.includes(defaultApi)) {\n  throw new Error('defaultApi must exist');\n}\n\nconst initializedAPIs = [];\n\nconst state = {\n  name: defaultApi,\n  initializing: true\n};\n\nconst getters = {\n  api({ name }) {\n    return apis[name];\n  },\n  dict({ name }) {\n    return apiDict[name];\n  }\n};\n\nconst mutations = {\n  setApi(state, value) {\n    state.name = value;\n  },\n  setInitializing(state, value) {\n    state.initializing = value;\n  }\n};\n\nconst actions = {\n  initApi({ commit, state }) {\n    console.info('initializing', state.name);\n    commit('setInitializing', true);\n    apis[state.name]\n      .init()\n      .then(() => {\n        commit('setInitializing', false);\n        initializedAPIs.push(state.name);\n      })\n      .catch((reason) => {\n        console.error('[initApi]', reason);\n        commit('setInitializing', false);\n      });\n  },\n  toggleApi({ state, commit, dispatch }) {\n    const currentIndex = locationAPIs.indexOf(state.name);\n    const nextIndex = (currentIndex + 1) % locationAPIs.length;\n    const apiName = locationAPIs[nextIndex];\n    const isInitialized = initializedAPIs.includes(apiName);\n\n    commit('setApi', apiName);\n    commit('trips/reset', null, { root: true });\n    commit('stops/setStops', [], { root: true });\n    if (!isInitialized) dispatch('initApi');\n  }\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  mutations,\n  actions\n};\n","import Vue from 'vue';\nimport Vuex from 'vuex';\nimport VuexPersistence from 'vuex-persist';\n\nimport apis from '../api';\nimport user from './user';\nimport trips from './trips';\nimport stops from './stops';\nimport tabs from './tabs';\nimport api from './api';\n\nVue.use(Vuex);\nconst vuexLocal = new VuexPersistence({\n  storage: window.localStorage,\n  reducer: (state) => ({\n    trips: state.trips,\n    api: state.api\n  })\n});\n\nexport default new Vuex.Store({\n  strict: process.env.NODE_ENV !== 'production',\n  state: {\n    selectedJourney: null,\n    showJourneyDetails: false,\n    loadingJourneyDetails: false\n  },\n  getters: {},\n  mutations: {\n    selectJourney(state, journey) {\n      state.selectedJourney = journey;\n    },\n    setShowJourneyDetails(state, value) {\n      state.showJourneyDetails = value;\n    },\n    setLoadingJourneyDetails(state, value) {\n      state.loadingJourneyDetails = value;\n    }\n  },\n  actions: {\n    getJourneyDetails({ commit, state }, trip) {\n      if (state.api.name !== 'VT' || !trip.JourneyDetailRef) {\n        console.log('[getJourneyDetails]', 'only available for VT');\n        return Promise.resolve();\n      }\n      commit('setShowJourneyDetails', true);\n      commit('setLoadingJourneyDetails', true);\n      apis.VT.getJourneyDetail(trip.JourneyDetailRef.ref)\n        .then((resp) => {\n          commit('selectJourney', resp);\n          commit('setLoadingJourneyDetails', false);\n        })\n        .catch((reason) => {\n          console.error('[getJourneyDetails]', reason);\n          commit('setLoadingJourneyDetails', false);\n        });\n    }\n  },\n  modules: {\n    api,\n    user,\n    trips,\n    stops,\n    tabs\n  },\n  plugins: [vuexLocal.plugin]\n});\n","/* eslint-disable no-console */\n\nimport { register } from 'register-service-worker';\n\nif (process.env.NODE_ENV === 'production') {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready() {\n      console.log(\n        'App is being served from cache by a service worker.\\n' +\n          'For more details, visit https://goo.gl/AFskqB'\n      );\n    },\n    cached() {\n      console.log('Content has been cached for offline use.');\n    },\n    updated() {\n      console.log('New content is available; please refresh.');\n    },\n    offline() {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    },\n    error(error) {\n      console.error('Error during service worker registration:', error);\n    }\n  });\n}\n","import Vue from 'vue';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport {\n  faMap,\n  faSync,\n  faCheck,\n  faFilter,\n  faSpinner,\n  faVolumeUp,\n  faVolumeOff,\n  faInfoCircle,\n  faCrosshairs\n} from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\n\nlibrary.add(\n  faMap,\n  faSync,\n  faCheck,\n  faFilter,\n  faSpinner,\n  faVolumeUp,\n  faVolumeOff,\n  faInfoCircle,\n  faCrosshairs\n);\n\nVue.component('font-awesome', FontAwesomeIcon);\n","import 'fg-loadcss';\nimport Vue from 'vue';\n\nimport App from './App.vue';\nimport store from './store';\nimport './registerServiceWorker';\n\n// setup font awesome\nimport './components/FontAwesome';\n\nVue.config.productionTip = false;\nstore.dispatch('api/initApi');\n\nnew Vue({\n  store,\n  render: (h) => h(App)\n}).$mount('#app');\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/index.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JourneyDetails.vue?vue&type=style&index=0&module=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/index.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JourneyDetails.vue?vue&type=style&index=0&module=true&lang=css&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"informationPage\":\"InformationPage_informationPage_2JzFC\",\"editLink\":\"InformationPage_editLink_3mh2I\",\"spinner\":\"InformationPage_spinner_3mv-F\"};","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/index.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabs.vue?vue&type=style&index=0&module=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/index.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabs.vue?vue&type=style&index=0&module=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/index.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InformationPage.vue?vue&type=style&index=0&module=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/index.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InformationPage.vue?vue&type=style&index=0&module=true&lang=css&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabs\":\"Tabs_tabs_1QR2X\",\"tab\":\"Tabs_tab_15Faw\",\"tabSmall\":\"Tabs_tabSmall_3oxul\",\"tabActive\":\"Tabs_tabActive_5B2qN\",\"tabApi\":\"Tabs_tabApi_1DbIs\",\"tabDisabled\":\"Tabs_tabDisabled_2LyC1\",\"link\":\"Tabs_link_3QSdo\",\"onlyDesktop\":\"Tabs_onlyDesktop_2idts\",\"onlyMobile\":\"Tabs_onlyMobile_33MVU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"stationInfo\":\"StationInfo_stationInfo_1Dt3D\",\"form\":\"StationInfo_form_3BKgO\",\"content\":\"StationInfo_content_3LXMa\",\"situations\":\"StationInfo_situations_nDEmL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"journeyDetails\":\"JourneyDetails_journeyDetails_3YAJj\",\"display\":\"JourneyDetails_display_nRo1Q\",\"header\":\"JourneyDetails_header_2FVDd\",\"heading\":\"JourneyDetails_heading_1u5lY\",\"closeBtn\":\"JourneyDetails_closeBtn_2AamI\",\"journeyMeta\":\"JourneyDetails_journeyMeta_2_eYX\",\"mapLink\":\"JourneyDetails_mapLink_1boUP\",\"stopList\":\"JourneyDetails_stopList_2AU0a\",\"stop\":\"JourneyDetails_stop_1ijip\",\"stopDotCell\":\"JourneyDetails_stopDotCell_1gJ_N\",\"stopDot\":\"JourneyDetails_stopDot_-Ig6N\",\"stopPassed\":\"JourneyDetails_stopPassed_3heFC\",\"stopTime\":\"JourneyDetails_stopTime_SRZYM\",\"stopName\":\"JourneyDetails_stopName_1ry27\",\"stopTrack\":\"JourneyDetails_stopTrack_1BnIw\"};","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/index.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StationInfo.vue?vue&type=style&index=0&module=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/index.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StationInfo.vue?vue&type=style&index=0&module=true&lang=css&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tripsFilter\":\"TripsFilter_tripsFilter_ZISik\",\"filter\":\"TripsFilter_filter_1W5CS\",\"voice\":\"TripsFilter_voice_3SGKu\",\"voiceCheckbox\":\"TripsFilter_voiceCheckbox_2LW6X\",\"refreshBtn\":\"TripsFilter_refreshBtn_YozBh\"};"],"sourceRoot":""}